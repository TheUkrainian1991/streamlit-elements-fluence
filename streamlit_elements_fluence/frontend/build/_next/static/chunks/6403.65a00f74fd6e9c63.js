"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6403],{996403:function(n,t,e){e.r(t),e.d(t,{Choropleth:function(){return Je},ChoroplethCanvas:function(){return er},ChoroplethCanvasDefaultProps:function(){return De},ChoroplethCanvasPropTypes:function(){return Le},ChoroplethDefaultProps:function(){return ze},ChoroplethPropTypes:function(){return Pe},GeoMap:function(){return Ue},GeoMapCanvas:function(){return Ye},GeoMapCanvasDefaultProps:function(){return Ge},GeoMapCanvasPropTypes:function(){return We},GeoMapDefaultProps:function(){return Oe},GeoMapPropTypes:function(){return _e},ResponsiveChoropleth:function(){return Qe},ResponsiveChoroplethCanvas:function(){return rr},ResponsiveGeoMap:function(){return Ke},ResponsiveGeoMapCanvas:function(){return Ze},projectionById:function(){return Re},useChoropleth:function(){return ke},useGeoMap:function(){return we}});var r=e(667294),i=e(397817),o=e(44159),u=e(45697),a=e.n(u),l=e(94918),c=e(623560),f=e.n(c),s=e(227361),d=e.n(s),p=e(142957),h=1e-6,v=Math.PI,g=v/2,m=v/4,y=2*v,M=180/v,C=v/180,b=Math.abs,j=Math.atan,E=Math.atan2,S=Math.cos,x=Math.ceil,R=Math.exp,w=(Math.floor,Math.log),k=(Math.pow,Math.sin),T=Math.sign||function(n){return n>0?1:n<0?-1:0},q=Math.sqrt,_=Math.tan;function W(n){return n>1?0:n<-1?v:Math.acos(n)}function F(n){return n>1?g:n<-1?-g:Math.asin(n)}function P(n){return function(t,e){var r=S(t),i=S(e),o=n(r*i);return[o*i*k(t),o*k(e)]}}function L(n){return function(t,e){var r=q(t*t+e*e),i=n(r),o=k(i),u=S(i);return[E(t*o,r*u),F(r&&e*o/r)]}}function N(){}function O(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:N,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function G(n,t){return b(n[0]-t[0])<h&&b(n[1]-t[1])<h}function B(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function z(n,t,e,r,i){var o,u,a=[],l=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],u=n[t];if(G(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=n[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}a.push(e=new B(r,n,null,!0)),l.push(e.o=new B(r,null,e,!1)),a.push(e=new B(u,n,null,!1)),l.push(e.o=new B(u,null,e,!0))}})),a.length){for(l.sort(t),D(a),D(l),o=0,u=l.length;o<u;++o)l[o].e=e=!e;for(var c,f,s=a[0];;){for(var d=s,p=!0;d.v;)if((d=d.n)===s)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,u=c.length;o<u;++o)i.point((f=c[o])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((f=c[o])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function D(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function I(){return new A}function A(){this.reset()}A.prototype={constructor:A,reset:function(){this.s=this.t=0},add:function(n){U(H,n,this.t),U(this,H.s,this.s),this.s?this.t+=H.t:this.s=H.t},valueOf:function(){return this.s}};var H=new A;function U(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function K(n){return[E(n[1],n[0]),F(n[2])]}function V(n){var t=n[0],e=n[1],r=S(e);return[r*S(t),r*k(t),k(e)]}function X(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Y(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Z(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function $(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function J(n){var t=q(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var Q=I();function nn(n){return b(n[0])<=v?n[0]:T(n[0])*((b(n[0])+v)%y-v)}function tn(n,t){var e=nn(t),r=t[1],i=k(r),o=[k(e),-S(e),0],u=0,a=0;Q.reset(),1===i?r=g+h:-1===i&&(r=-g-h);for(var l=0,c=n.length;l<c;++l)if(s=(f=n[l]).length)for(var f,s,d=f[s-1],p=nn(d),M=d[1]/2+m,C=k(M),b=S(M),j=0;j<s;++j,p=R,C=T,b=q,d=x){var x=f[j],R=nn(x),w=x[1]/2+m,T=k(w),q=S(w),_=R-p,W=_>=0?1:-1,P=W*_,L=P>v,N=C*T;if(Q.add(E(N*W*k(P),b*q+N*S(P))),u+=L?_+W*y:_,L^p>=e^R>=e){var O=Y(V(d),V(x));J(O);var G=Y(o,O);J(G);var B=(L^_>=0?-1:1)*F(G[2]);(r>B||r===B&&(O[0]||O[1]))&&(a+=L^_>=0?1:-1)}}return(u<-h||u<h&&Q<-h)^1&a}var en=e(306078);function rn(n,t,e,r){return function(i){var o,u,a,l=t(i),c=O(),f=t(c),s=!1,d={point:p,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=M,u=[],o=[]},polygonEnd:function(){d.point=p,d.lineStart=v,d.lineEnd=g,u=(0,en.TS)(u);var n=tn(o,r);u.length?(s||(i.polygonStart(),s=!0),z(u,un,n,e,i)):n&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,e){n(t,e)&&i.point(t,e)}function h(n,t){l.point(n,t)}function v(){d.point=h,l.lineStart()}function g(){d.point=p,l.lineEnd()}function m(n,t){a.push([n,t]),f.point(n,t)}function y(){f.lineStart(),a=[]}function M(){m(a[0][0],a[0][1]),f.lineEnd();var n,t,e,r,l=f.clean(),d=c.result(),p=d.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((t=(e=d[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&d.push(d.pop().concat(d.shift())),u.push(d.filter(on))}return d}}function on(n){return n.length>1}function un(n,t){return((n=n.x)[0]<0?n[1]-g-h:g-n[1])-((t=t.x)[0]<0?t[1]-g-h:g-t[1])}var an=rn((function(){return!0}),(function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var a=o>0?v:-v,l=b(o-e);b(l-v)<h?(n.point(e,r=(r+u)/2>0?g:-g),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(o,r),t=0):i!==a&&l>=v&&(b(e-i)<h&&(e-=i*h),b(o-a)<h&&(o-=a*h),r=function(n,t,e,r){var i,o,u=k(n-e);return b(u)>h?j((k(t)*(o=S(r))*k(e)-k(r)*(i=S(t))*k(n))/(i*o*u)):(t+r)/2}(e,r,o,u),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=o,r=u),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var i;if(null==n)i=e*g,r.point(-v,i),r.point(0,i),r.point(v,i),r.point(v,0),r.point(v,-i),r.point(0,-i),r.point(-v,-i),r.point(-v,0),r.point(-v,i);else if(b(n[0]-t[0])>h){var o=n[0]<t[0]?v:-v;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-v,-g]);function ln(n,t,e,r,i,o){if(e){var u=S(t),a=k(t),l=r*e;null==i?(i=t+r*y,o=t-l/2):(i=cn(u,i),o=cn(u,o),(r>0?i<o:i>o)&&(i+=r*y));for(var c,f=i;r>0?f>o:f<o;f-=l)c=K([u,-a*S(f),-a*k(f)]),n.point(c[0],c[1])}}function cn(n,t){(t=V(t))[0]-=n,J(t);var e=W(-t[1]);return((-t[2]<0?-e:e)+y-h)%y}function fn(n){var t=S(n),e=6*C,r=t>0,i=b(t)>h;function o(n,e){return S(n)*S(e)>t}function u(n,e,r){var i=[1,0,0],o=Y(V(n),V(e)),u=X(o,o),a=o[0],l=u-a*a;if(!l)return!r&&n;var c=t*u/l,f=-t*a/l,s=Y(i,o),d=$(i,c);Z(d,$(o,f));var p=s,g=X(d,p),m=X(p,p),y=g*g-m*(X(d,d)-1);if(!(y<0)){var M=q(y),C=$(p,(-g-M)/m);if(Z(C,d),C=K(C),!r)return C;var j,E=n[0],S=e[0],x=n[1],R=e[1];S<E&&(j=E,E=S,S=j);var w=S-E,k=b(w-v)<h;if(!k&&R<x&&(j=x,x=R,R=j),k||w<h?k?x+R>0^C[1]<(b(C[0]-E)<h?x:R):x<=C[1]&&C[1]<=R:w>v^(E<=C[0]&&C[0]<=S)){var T=$(p,(-g+M)/m);return Z(T,d),[C,K(T)]}}}function a(t,e){var i=r?n:v-n,o=0;return t<-i?o|=1:t>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return rn(o,(function(n){var t,e,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,d){var p,h=[s,d],g=o(s,d),m=r?g?0:a(s,d):g?a(s+(s<0?v:-v),d):0;if(!t&&(c=l=g)&&n.lineStart(),g!==l&&(!(p=u(t,h))||G(t,p)||G(h,p))&&(h[2]=1),g!==l)f=0,g?(n.lineStart(),p=u(h,t),n.point(p[0],p[1])):(p=u(t,h),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(i&&t&&r^g){var y;m&e||!(y=u(h,t,!0))||(f=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!g||t&&G(t,h)||n.point(h[0],h[1]),t=h,l=g,e=m},lineEnd:function(){l&&n.lineEnd(),t=null},clean:function(){return f|(c&&l)<<1}}}),(function(t,r,i,o){ln(o,n,e,i,t,r)}),r?[0,-n]:[-v,n-v])}var sn=1e9,dn=-sn;function pn(n,t,e,r){function i(i,o){return n<=i&&i<=e&&t<=o&&o<=r}function o(i,o,a,c){var f=0,s=0;if(null==i||(f=u(i,a))!==(s=u(o,a))||l(i,o)<0^a>0)do{c.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+a+4)%4)!==s);else c.point(o[0],o[1])}function u(r,i){return b(r[0]-n)<h?i>0?0:3:b(r[0]-e)<h?i>0?2:1:b(r[1]-t)<h?i>0?1:0:i>0?3:2}function a(n,t){return l(n.x,t.x)}function l(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(u){var l,c,f,s,d,p,h,v,g,m,y,M=u,C=O(),b={point:j,lineStart:function(){b.point=E,c&&c.push(f=[]);m=!0,g=!1,h=v=NaN},lineEnd:function(){l&&(E(s,d),p&&g&&C.rejoin(),l.push(C.result()));b.point=j,g&&M.lineEnd()},polygonStart:function(){M=C,l=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,i=c.length;e<i;++e)for(var o,u,a=c[e],l=1,f=a.length,s=a[0],d=s[0],p=s[1];l<f;++l)o=d,u=p,d=(s=a[l])[0],p=s[1],u<=r?p>r&&(d-o)*(r-u)>(p-u)*(n-o)&&++t:p<=r&&(d-o)*(r-u)<(p-u)*(n-o)&&--t;return t}(),e=y&&t,i=(l=(0,en.TS)(l)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&z(l,a,t,o,u),u.polygonEnd());M=u,l=c=f=null}};function j(n,t){i(n,t)&&M.point(n,t)}function E(o,u){var a=i(o,u);if(c&&f.push([o,u]),m)s=o,d=u,p=a,m=!1,a&&(M.lineStart(),M.point(o,u));else if(a&&g)M.point(o,u);else{var l=[h=Math.max(dn,Math.min(sn,h)),v=Math.max(dn,Math.min(sn,v))],C=[o=Math.max(dn,Math.min(sn,o)),u=Math.max(dn,Math.min(sn,u))];!function(n,t,e,r,i,o){var u,a=n[0],l=n[1],c=0,f=1,s=t[0]-a,d=t[1]-l;if(u=e-a,s||!(u>0)){if(u/=s,s<0){if(u<c)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>c&&(c=u)}if(u=i-a,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>c&&(c=u)}else if(s>0){if(u<c)return;u<f&&(f=u)}if(u=r-l,d||!(u>0)){if(u/=d,d<0){if(u<c)return;u<f&&(f=u)}else if(d>0){if(u>f)return;u>c&&(c=u)}if(u=o-l,d||!(u<0)){if(u/=d,d<0){if(u>f)return;u>c&&(c=u)}else if(d>0){if(u<c)return;u<f&&(f=u)}return c>0&&(n[0]=a+c*s,n[1]=l+c*d),f<1&&(t[0]=a+f*s,t[1]=l+f*d),!0}}}}}(l,C,n,t,e,r)?a&&(M.lineStart(),M.point(o,u),y=!1):(g||(M.lineStart(),M.point(l[0],l[1])),M.point(C[0],C[1]),a||M.lineEnd(),y=!1)}h=o,v=u,g=a}return b}}function hn(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function vn(n){return n}function gn(n,t){return[b(n)>v?n+Math.round(-n/y)*y:n,t]}function mn(n,t,e){return(n%=y)?t||e?hn(Mn(n),Cn(t,e)):Mn(n):t||e?Cn(t,e):gn}function yn(n){return function(t,e){return[(t+=n)>v?t-y:t<-v?t+y:t,e]}}function Mn(n){var t=yn(n);return t.invert=yn(-n),t}function Cn(n,t){var e=S(n),r=k(n),i=S(t),o=k(t);function u(n,t){var u=S(t),a=S(n)*u,l=k(n)*u,c=k(t),f=c*e+a*r;return[E(l*i-f*o,a*e-c*r),F(f*i+l*o)]}return u.invert=function(n,t){var u=S(t),a=S(n)*u,l=k(n)*u,c=k(t),f=c*i-l*o;return[E(l*i+c*o,a*e+f*r),F(f*e-a*r)]},u}function bn(n){return function(t){var e=new jn;for(var r in n)e[r]=n[r];return e.stream=t,e}}function jn(){}function En(n,t){n&&xn.hasOwnProperty(n.type)&&xn[n.type](n,t)}gn.invert=gn,jn.prototype={constructor:jn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sn={Feature:function(n,t){En(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)En(e[r].geometry,t)}},xn={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Rn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)Rn(e[r],t,0)},Polygon:function(n,t){wn(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)wn(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)En(e[r],t)}};function Rn(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function wn(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Rn(n[e],t,1);t.polygonEnd()}function kn(n,t){n&&Sn.hasOwnProperty(n.type)?Sn[n.type](n,t):En(n,t)}var Tn=1/0,qn=Tn,_n=-Tn,Wn=_n,Fn={point:function(n,t){n<Tn&&(Tn=n);n>_n&&(_n=n);t<qn&&(qn=t);t>Wn&&(Wn=t)},lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N,result:function(){var n=[[Tn,qn],[_n,Wn]];return _n=Wn=-(qn=Tn=1/0),n}};var Pn=Fn;function Ln(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),kn(e,n.stream(Pn)),t(Pn.result()),null!=r&&n.clipExtent(r),n}function Nn(n,t,e){return Ln(n,(function(e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+t[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+t[0][1]+(i-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,a])}),e)}var On=S(30*C);function Gn(n,t){return+t?function(n,t){function e(r,i,o,u,a,l,c,f,s,d,p,v,g,m){var y=c-r,M=f-i,C=y*y+M*M;if(C>4*t&&g--){var j=u+d,S=a+p,x=l+v,R=q(j*j+S*S+x*x),w=F(x/=R),k=b(b(x)-1)<h||b(o-s)<h?(o+s)/2:E(S,j),T=n(k,w),_=T[0],W=T[1],P=_-r,L=W-i,N=M*P-y*L;(N*N/C>t||b((y*P+M*L)/C-.5)>.3||u*d+a*p+l*v<On)&&(e(r,i,o,u,a,l,_,W,k,j/=R,S/=R,x,g,m),m.point(_,W),e(_,W,k,j,S,x,c,f,s,d,p,v,g,m))}}return function(t){var r,i,o,u,a,l,c,f,s,d,p,h,v={point:g,lineStart:m,lineEnd:M,polygonStart:function(){t.polygonStart(),v.lineStart=C},polygonEnd:function(){t.polygonEnd(),v.lineStart=m}};function g(e,r){e=n(e,r),t.point(e[0],e[1])}function m(){f=NaN,v.point=y,t.lineStart()}function y(r,i){var o=V([r,i]),u=n(r,i);e(f,s,c,d,p,h,f=u[0],s=u[1],c=r,d=o[0],p=o[1],h=o[2],16,t),t.point(f,s)}function M(){v.point=g,t.lineEnd()}function C(){m(),v.point=b,v.lineEnd=j}function b(n,t){y(r=n,t),i=f,o=s,u=d,a=p,l=h,v.point=y}function j(){e(f,s,c,d,p,h,i,o,r,u,a,l,16,t),v.lineEnd=M,M()}return v}}(n,t):function(n){return bn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var Bn=bn({point:function(n,t){this.stream.point(n*C,t*C)}});function zn(n,t,e,r,i){function o(o,u){return[t+n*(o*=r),e-n*(u*=i)]}return o.invert=function(o,u){return[(o-t)/n*r,(e-u)/n*i]},o}function Dn(n,t,e,r,i,o){var u=S(o),a=k(o),l=u*n,c=a*n,f=u/n,s=a/n,d=(a*e-u*t)/n,p=(a*t+u*e)/n;function h(n,o){return[l*(n*=r)-c*(o*=i)+t,e-c*n-l*o]}return h.invert=function(n,t){return[r*(f*n-s*t+d),i*(p-s*n-f*t)]},h}function In(n){return function(n){var t,e,r,i,o,u,a,l,c,f,s=150,d=480,p=250,h=0,v=0,g=0,m=0,y=0,b=0,j=1,E=1,S=null,x=an,R=null,w=vn,k=.5;function T(n){return l(n[0]*C,n[1]*C)}function _(n){return(n=l.invert(n[0],n[1]))&&[n[0]*M,n[1]*M]}function W(){var n=Dn(s,0,0,j,E,b).apply(null,t(h,v)),r=(b?Dn:zn)(s,d-n[0],p-n[1],j,E,b);return e=mn(g,m,y),a=hn(t,r),l=hn(e,a),u=Gn(a,k),F()}function F(){return c=f=null,T}return T.stream=function(n){return c&&f===n?c:c=Bn(function(n){return bn({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(x(u(w(f=n)))))},T.preclip=function(n){return arguments.length?(x=n,S=void 0,F()):x},T.postclip=function(n){return arguments.length?(w=n,R=r=i=o=null,F()):w},T.clipAngle=function(n){return arguments.length?(x=+n?fn(S=n*C):(S=null,an),F()):S*M},T.clipExtent=function(n){return arguments.length?(w=null==n?(R=r=i=o=null,vn):pn(R=+n[0][0],r=+n[0][1],i=+n[1][0],o=+n[1][1]),F()):null==R?null:[[R,r],[i,o]]},T.scale=function(n){return arguments.length?(s=+n,W()):s},T.translate=function(n){return arguments.length?(d=+n[0],p=+n[1],W()):[d,p]},T.center=function(n){return arguments.length?(h=n[0]%360*C,v=n[1]%360*C,W()):[h*M,v*M]},T.rotate=function(n){return arguments.length?(g=n[0]%360*C,m=n[1]%360*C,y=n.length>2?n[2]%360*C:0,W()):[g*M,m*M,y*M]},T.angle=function(n){return arguments.length?(b=n%360*C,W()):b*M},T.reflectX=function(n){return arguments.length?(j=n?-1:1,W()):j<0},T.reflectY=function(n){return arguments.length?(E=n?-1:1,W()):E<0},T.precision=function(n){return arguments.length?(u=Gn(a,k=n*n),F()):q(k)},T.fitExtent=function(n,t){return Nn(T,n,t)},T.fitSize=function(n,t){return function(n,t,e){return Nn(n,[[0,0],t],e)}(T,n,t)},T.fitWidth=function(n,t){return function(n,t,e){return Ln(n,(function(e){var r=+t,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];n.scale(150*i).translate([o,u])}),e)}(T,n,t)},T.fitHeight=function(n,t){return function(n,t,e){return Ln(n,(function(e){var r=+t,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([o,u])}),e)}(T,n,t)},function(){return t=n.apply(this,arguments),T.invert=t.invert&&_,W()}}((function(){return n}))()}var An=P((function(n){return q(2/(1+n))}));An.invert=L((function(n){return 2*F(n/2)}));var Hn=P((function(n){return(n=W(n))&&n/k(n)}));function Un(n,t){var e=S(t),r=S(n)*e;return[e*k(n)/r,k(t)/r]}function Kn(n,t){return[S(t)*k(n),k(t)]}function Vn(n,t){var e=S(t),r=1+S(n)*e;return[e*k(n)/r,k(t)/r]}Hn.invert=L((function(n){return n})),Un.invert=L(j),Kn.invert=L(F),Vn.invert=L((function(n){return 2*j(n)}));var Xn=1.340264,Yn=-.081106,Zn=893e-6,$n=.003796,Jn=q(3)/2;function Qn(n,t){var e=F(Jn*k(t)),r=e*e,i=r*r*r;return[n*S(e)/(Jn*(Xn+3*Yn*r+i*(7*Zn+9*$n*r))),e*(Xn+Yn*r+i*(Zn+$n*r))]}function nt(n,t){return[n,t]}function tt(n,t){return[n,w(_((g+t)/2))]}function et(n){var t,e,r,i=In(n),o=i.center,u=i.scale,a=i.translate,l=i.clipExtent,c=null;function f(){var o=v*u(),a=i(function(n){function t(t){return(t=n(t[0]*C,t[1]*C))[0]*=M,t[1]*=M,t}return n=mn(n[0]*C,n[1]*C,n.length>2?n[2]*C:0),t.invert=function(t){return(t=n.invert(t[0]*C,t[1]*C))[0]*=M,t[1]*=M,t},t}(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:n===tt?[[Math.max(a[0]-o,c),t],[Math.min(a[0]+o,e),r]]:[[c,Math.max(a[1]-o,t)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(n){return arguments.length?(u(n),f()):u()},i.translate=function(n){return arguments.length?(a(n),f()):a()},i.center=function(n){return arguments.length?(o(n),f()):o()},i.clipExtent=function(n){return arguments.length?(null==n?c=t=e=r=null:(c=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==c?null:[[c,t],[e,r]]},f()}function rt(n,t){return[w(_((g+t)/2)),-n]}function it(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Qn.invert=function(n,t){for(var e,r=t,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(Xn+Yn*i+o*(Zn+$n*i))-t)/(Xn+3*Yn*i+o*(7*Zn+9*$n*i)))*r)*i*i,!(b(e)<1e-12));++u);return[Jn*n*(Xn+3*Yn*i+o*(7*Zn+9*$n*i))/S(r),F(k(r)/Jn)]},nt.invert=nt,tt.invert=function(n,t){return[n,2*j(R(t))-g]},rt.invert=function(n,t){return[-t,2*j(R(n))-g]},it.invert=function(n,t){var e,r=t,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-t)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(b(e)>h&&--i>0);return[n/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var ot,ut,at,lt,ct=I(),ft=I(),st={point:N,lineStart:N,lineEnd:N,polygonStart:function(){st.lineStart=dt,st.lineEnd=vt},polygonEnd:function(){st.lineStart=st.lineEnd=st.point=N,ct.add(b(ft)),ft.reset()},result:function(){var n=ct/2;return ct.reset(),n}};function dt(){st.point=pt}function pt(n,t){st.point=ht,ot=at=n,ut=lt=t}function ht(n,t){ft.add(lt*n-at*t),at=n,lt=t}function vt(){ht(ot,ut)}var gt,mt,yt,Mt,Ct=st,bt=0,jt=0,Et=0,St=0,xt=0,Rt=0,wt=0,kt=0,Tt=0,qt={point:_t,lineStart:Wt,lineEnd:Lt,polygonStart:function(){qt.lineStart=Nt,qt.lineEnd=Ot},polygonEnd:function(){qt.point=_t,qt.lineStart=Wt,qt.lineEnd=Lt},result:function(){var n=Tt?[wt/Tt,kt/Tt]:Rt?[St/Rt,xt/Rt]:Et?[bt/Et,jt/Et]:[NaN,NaN];return bt=jt=Et=St=xt=Rt=wt=kt=Tt=0,n}};function _t(n,t){bt+=n,jt+=t,++Et}function Wt(){qt.point=Ft}function Ft(n,t){qt.point=Pt,_t(yt=n,Mt=t)}function Pt(n,t){var e=n-yt,r=t-Mt,i=q(e*e+r*r);St+=i*(yt+n)/2,xt+=i*(Mt+t)/2,Rt+=i,_t(yt=n,Mt=t)}function Lt(){qt.point=_t}function Nt(){qt.point=Gt}function Ot(){Bt(gt,mt)}function Gt(n,t){qt.point=Bt,_t(gt=yt=n,mt=Mt=t)}function Bt(n,t){var e=n-yt,r=t-Mt,i=q(e*e+r*r);St+=i*(yt+n)/2,xt+=i*(Mt+t)/2,Rt+=i,wt+=(i=Mt*n-yt*t)*(yt+n),kt+=i*(Mt+t),Tt+=3*i,_t(yt=n,Mt=t)}var zt=qt;function Dt(n){this._context=n}Dt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,y)}},result:N};var It,At,Ht,Ut,Kt,Vt=I(),Xt={point:N,lineStart:function(){Xt.point=Yt},lineEnd:function(){It&&Zt(At,Ht),Xt.point=N},polygonStart:function(){It=!0},polygonEnd:function(){It=null},result:function(){var n=+Vt;return Vt.reset(),n}};function Yt(n,t){Xt.point=Zt,At=Ut=n,Ht=Kt=t}function Zt(n,t){Ut-=n,Kt-=t,Vt.add(q(Ut*Ut+Kt*Kt)),Ut=n,Kt=t}var $t=Xt;function Jt(){this._string=[]}function Qt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function ne(n,t,e){var r=(0,en.w6)(n,t-h,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function te(n,t,e){var r=(0,en.w6)(n,t-h,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function ee(){var n,t,e,r,i,o,u,a,l,c,f,s,d=10,p=d,v=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:M()}}function M(){return(0,en.w6)(x(r/v)*v,e,v).map(f).concat((0,en.w6)(x(a/g)*g,u,g).map(s)).concat((0,en.w6)(x(t/d)*d,n,d).filter((function(n){return b(n%v)>h})).map(l)).concat((0,en.w6)(x(o/p)*p,i,p).filter((function(n){return b(n%g)>h})).map(c))}return y.lines=function(){return M().map((function(n){return{type:"LineString",coordinates:n}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(s(u).slice(1),f(e).reverse().slice(1),s(a).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),y.precision(m)):[[r,a],[e,u]]},y.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],o=+e[0][1],i=+e[1][1],t>n&&(e=t,t=n,n=e),o>i&&(e=o,o=i,i=e),y.precision(m)):[[t,o],[n,i]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(v=+n[0],g=+n[1],y):[v,g]},y.stepMinor=function(n){return arguments.length?(d=+n[0],p=+n[1],y):[d,p]},y.precision=function(d){return arguments.length?(m=+d,l=ne(o,i,90),c=te(t,n,m),f=ne(a,u,90),s=te(r,e,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}Jt.prototype={_radius:4.5,_circle:Qt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Qt(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var re,ie,oe,ue=I(),ae={sphere:N,point:N,lineStart:function(){ae.point=ce,ae.lineEnd=le},lineEnd:N,polygonStart:N,polygonEnd:N};function le(){ae.point=ae.lineEnd=N}function ce(n,t){re=n*=C,ie=k(t*=C),oe=S(t),ae.point=fe}function fe(n,t){n*=C;var e=k(t*=C),r=S(t),i=b(n-re),o=S(i),u=r*k(i),a=oe*e-ie*r*o,l=ie*e+oe*r*o;ue.add(E(q(u*u+a*a),l)),re=n,ie=e,oe=r}var se=[null,null],de={type:"LineString",coordinates:se};function pe(n,t){return se[0]=n,se[1]=t,function(n){return ue.reset(),kn(n,ae),+ue}(de)}var he={Feature:function(n,t){return ge(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)if(ge(e[r].geometry,t))return!0;return!1}},ve={Sphere:function(){return!0},Point:function(n,t){return me(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(me(e[r],t))return!0;return!1},LineString:function(n,t){return ye(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(ye(e[r],t))return!0;return!1},Polygon:function(n,t){return Me(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)if(Me(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)if(ge(e[r],t))return!0;return!1}};function ge(n,t){return!(!n||!ve.hasOwnProperty(n.type))&&ve[n.type](n,t)}function me(n,t){return 0===pe(n,t)}function ye(n,t){for(var e,r,i,o=0,u=n.length;o<u;o++){if(0===(r=pe(n[o],t)))return!0;if(o>0&&(i=pe(n[o],n[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<1e-12*i)return!0;e=r}return!1}function Me(n,t){return!!tn(n.map(Ce),be(t))}function Ce(n){return(n=n.map(be)).pop(),n}function be(n){return[n[0]*C,n[1]*C]}function je(n,t){return(n&&he.hasOwnProperty(n.type)?he[n.type]:ge)(n,t)}var Ee=e(569680),Se=e(785893);function xe(){return xe=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},xe.apply(this,arguments)}var Re={azimuthalEqualArea:function(){return In(An).scale(124.75).clipAngle(179.999)},azimuthalEquidistant:function(){return In(Hn).scale(79.4188).clipAngle(179.999)},gnomonic:function(){return In(Un).scale(144.049).clipAngle(60)},orthographic:function(){return In(Kn).scale(249.5).clipAngle(90.000001)},stereographic:function(){return In(Vn).scale(250).clipAngle(142)},equalEarth:function(){return In(Qn).scale(177.158)},equirectangular:function(){return In(nt).scale(152.63)},mercator:function(){return et(tt).scale(961/y)},transverseMercator:function(){var n=et(rt),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)},naturalEarth1:function(){return In(it).scale(175.295)}},we=function(n){var t=n.width,e=n.height,o=n.projectionType,u=n.projectionScale,a=n.projectionTranslation,c=n.projectionRotation,f=n.fillColor,s=n.borderWidth,d=n.borderColor,p=(0,r.useMemo)((function(){return Re[o]().scale(u).translate([t*a[0],e*a[1]]).rotate(c)}),[t,e,o,u,a[0],a[1],c[0],c[1],c[2]]),h=(0,r.useMemo)((function(){return function(n,t){var e,r,i=4.5;function o(n){return n&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),kn(n,e(r))),r.result()}return o.area=function(n){return kn(n,e(Ct)),Ct.result()},o.measure=function(n){return kn(n,e($t)),$t.result()},o.bounds=function(n){return kn(n,e(Pn)),Pn.result()},o.centroid=function(n){return kn(n,e(zt)),zt.result()},o.projection=function(t){return arguments.length?(e=null==t?(n=null,vn):(n=t).stream,o):n},o.context=function(n){return arguments.length?(r=null==n?(t=null,new Jt):new Dt(t=n),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(n){return arguments.length?(i="function"===typeof n?n:(r.pointRadius(+n),+n),o):i},o.projection(n).context(t)}(p)}),[p]),v=(0,r.useMemo)((function(){return ee()})),g=(0,i.Fg)(),m=(0,r.useMemo)((function(){return"function"==typeof s?s:function(){return s}}),[s]),y=(0,l.Bf)(d,g),M=(0,r.useMemo)((function(){return"function"==typeof f?f:function(){return f}}),[f]);return{projection:p,path:h,graticule:v,getBorderWidth:m,getBorderColor:y,getFillColor:M}},ke=function(n){var t=n.features,e=n.data,o=n.match,u=n.label,a=n.value,l=n.valueFormat,c=n.colors,s=n.unknownColor,h=n.domain,v=(0,r.useMemo)((function(){return f()(o)?o:function(n,t){var e=d()(n,o),r=d()(t,o);return e&&e===r}}),[o]),g=(0,r.useMemo)((function(){return f()(u)?u:function(n){return d()(n,u)}}),[u]),m=(0,r.useMemo)((function(){return f()(a)?a:function(n){return d()(n,a)}}),[a]),y=(0,r.useMemo)((function(){return void 0===l?function(n){return n}:f()(l)?l:(0,p.WU)(l)}),[l]),M=(0,r.useMemo)((function(){return(0,i.om)(c).domain(h)}),[c,h]),C=(0,r.useMemo)((function(){return function(n){return void 0===n.value?s:M(n.value)}}),[M,s]),b=(0,r.useMemo)((function(){return t.map((function(n){var t=e.find((function(t){return v(n,t)})),r=m(t);if(t){var i=xe({},n,{data:t,value:r,formattedValue:y(r)});return i.color=C(i),i.label=g(i),i}return n}))}),[t,e,v,m,y,C]),j=(0,Ee._i)({scale:M,valueFormat:y});return{colorScale:M,getFillColor:C,boundFeatures:b,valueFormatter:y,legendData:j}},Te=(0,r.memo)((function(n){var t=n.feature;return void 0===t.data?null:(0,Se.jsx)(o._5,{id:t.label,color:t.color,enableChip:!0,value:t.formattedValue})}));Te.propTypes={feature:a().object.isRequired},Te.displayName="ChoroplethTooltip";var qe={features:a().arrayOf(a().shape({id:a().string.isRequired,type:a().oneOf(["Feature"]).isRequired,properties:a().object,geometry:a().object.isRequired})).isRequired,projectionType:a().oneOf(Object.keys(Re)).isRequired,projectionScale:a().number.isRequired,projectionTranslation:a().arrayOf(a().number).isRequired,projectionRotation:a().arrayOf(a().number).isRequired,fillColor:a().oneOfType([a().string,a().func]).isRequired,borderWidth:a().oneOfType([a().number,a().func]).isRequired,borderColor:l.UO.isRequired,enableGraticule:a().bool.isRequired,graticuleLineWidth:a().number.isRequired,graticuleLineColor:a().string.isRequired,isInteractive:a().bool.isRequired,onMouseEnter:a().func.isRequired,onMouseMove:a().func.isRequired,onMouseLeave:a().func.isRequired,onClick:a().func.isRequired,tooltip:a().any,layers:a().arrayOf(a().oneOfType([a().oneOf(["graticule","features"]),a().func])).isRequired},_e=xe({},qe,{role:a().string.isRequired}),We=xe({pixelRatio:a().number.isRequired},qe),Fe={data:a().arrayOf(a().object).isRequired,match:a().oneOfType([a().string,a().func]).isRequired,label:a().oneOfType([a().string,a().func]).isRequired,value:a().oneOfType([a().string,a().func]).isRequired,valueFormat:a().oneOfType([a().string,a().func]),colors:i.Dd.isRequired,domain:a().arrayOf(a().number).isRequired,unknownColor:a().string.isRequired,layers:a().arrayOf(a().oneOfType([a().oneOf(["graticule","features","legends"]),a().func])).isRequired},Pe=xe({},_e,Fe,{role:a().string.isRequired}),Le=xe({},We,Fe),Ne={projectionType:"mercator",projectionScale:100,projectionTranslation:[.5,.5],projectionRotation:[0,0,0],enableGraticule:!1,graticuleLineWidth:.5,graticuleLineColor:"#999999",fillColor:"#dddddd",borderWidth:0,borderColor:"#000000",isInteractive:!0,onMouseEnter:function(){},onMouseLeave:function(){},onMouseMove:function(){},onClick:function(){},layers:["graticule","features"],legends:[],fill:[],defs:[]},Oe=xe({},Ne,{role:"img"}),Ge=xe({},Ne,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),Be={match:"id",label:"id",value:"value",colors:"PuBuGn",unknownColor:"#999",tooltip:Te,layers:["graticule","features","legends"]},ze=xe({},Oe,Be,{role:"img"}),De=xe({},Ge,Be),Ie=(0,r.memo)((function(n){var t=n.path,e=n.graticule,r=n.lineWidth,i=n.lineColor;return(0,Se.jsx)("path",{fill:"none",strokeWidth:r,stroke:i,d:t(e())})}));Ie.propTypes={path:a().func.isRequired,graticule:a().func.isRequired,lineWidth:a().number.isRequired,lineColor:a().string.isRequired},Ie.displayName="GeoGraticule";var Ae=(0,r.memo)((function(n){var t,e=n.feature,r=n.path,i=n.fillColor,o=n.borderWidth,u=n.borderColor,a=n.onClick,l=n.onMouseEnter,c=n.onMouseMove,f=n.onMouseLeave;return(0,Se.jsx)("path",{fill:null!=(t=null==e?void 0:e.fill)?t:i,strokeWidth:o,stroke:u,strokeLinejoin:"bevel",d:r(e),onMouseEnter:function(n){return l(e,n)},onMouseMove:function(n){return c(e,n)},onMouseLeave:function(n){return f(e,n)},onClick:function(n){return a(e,n)}},e.id)}));Ae.propTypes={feature:a().shape({id:a().string.isRequired,type:a().oneOf(["Feature"]).isRequired,properties:a().object,geometry:a().object.isRequired}).isRequired,path:a().func.isRequired,fillColor:a().string.isRequired,borderWidth:a().number.isRequired,borderColor:a().string.isRequired,onMouseEnter:a().func.isRequired,onMouseMove:a().func.isRequired,onMouseLeave:a().func.isRequired,onClick:a().func.isRequired},Ae.displayName="GeoMapFeature";var He=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,a=n.features,l=n.layers,c=void 0===l?["graticule","features"]:l,f=n.projectionType,s=void 0===f?"mercator":f,d=n.projectionScale,p=void 0===d?100:d,h=n.projectionTranslation,v=void 0===h?[.5,.5]:h,g=n.projectionRotation,m=void 0===g?[0,0,0]:g,y=n.fillColor,M=void 0===y?"#dddddd":y,C=n.borderWidth,b=void 0===C?0:C,j=n.borderColor,E=void 0===j?"#000000":j,S=n.enableGraticule,x=void 0!==S&&S,R=n.graticuleLineWidth,w=void 0===R?.5:R,k=n.graticuleLineColor,T=void 0===k?"#999999":k,q=n.isInteractive,_=void 0===q||q,W=n.onClick,F=void 0===W?function(){}:W,P=n.tooltip,L=n.role,N=void 0===L?"img":L,O=(0,i.Bs)(t,e,u),G=O.margin,B=O.outerWidth,z=O.outerHeight,D=we({width:t,height:e,projectionType:s,projectionScale:p,projectionTranslation:v,projectionRotation:m,fillColor:M,borderWidth:b,borderColor:E}),I=D.graticule,A=D.path,H=D.getFillColor,U=D.getBorderWidth,K=D.getBorderColor,V=(0,i.Fg)(),X=(0,o.lL)(),Y=X.showTooltipFromEvent,Z=X.hideTooltip,$=(0,r.useCallback)((function(n,t){return _&&F&&F(n,t)}),[_,F]),J=(0,r.useCallback)((function(n,t){return _&&P&&Y((0,Se.jsx)(P,{feature:n}),t)}),[_,Y,P]),Q=(0,r.useCallback)((function(n,t){return _&&P&&Y((0,Se.jsx)(P,{feature:n}),t)}),[_,Y,P]),nn=(0,r.useCallback)((function(){return _&&Z()}),[_,Z]);return(0,Se.jsx)(i.tM,{width:B,height:z,margin:G,theme:V,role:N,children:c.map((function(t,e){return"graticule"===t?!0!==x?null:(0,Se.jsx)(Ie,{path:A,graticule:I,lineWidth:w,lineColor:T},"graticule"):"features"===t?(0,Se.jsx)(r.Fragment,{children:a.map((function(n){return(0,Se.jsx)(Ae,{feature:n,path:A,fillColor:H(n),borderWidth:U(n),borderColor:K(n),onMouseEnter:J,onMouseMove:Q,onMouseLeave:nn,onClick:$},n.id)}))},"features"):(0,Se.jsx)(r.Fragment,{children:t(n)},e)}))})}));He.displayName="GeoMap",He.propTypes=_e;var Ue=(0,i.li)(He),Ke=function(n){return(0,Se.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,Se.jsx)(Ue,xe({width:e,height:r},n))}})},Ve=function(n,t,e,r){var o=(0,i.P6)(t,n),u=o[0],a=o[1];return e.find((function(n){return je(n,r.invert([u,a]))}))},Xe=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,a=n.pixelRatio,l=void 0===a?"undefined"!=typeof window&&window.devicePixelRatio||1:a,c=n.features,f=n.layers,s=n.projectionType,d=void 0===s?"mercator":s,p=n.projectionScale,h=void 0===p?100:p,v=n.projectionTranslation,g=void 0===v?[.5,.5]:v,m=n.projectionRotation,y=void 0===m?[0,0,0]:m,M=n.fillColor,C=void 0===M?"#dddddd":M,b=n.borderWidth,j=void 0===b?0:b,E=n.borderColor,S=void 0===E?"#000000":E,x=n.enableGraticule,R=void 0!==x&&x,w=n.graticuleLineWidth,k=void 0===w?.5:w,T=n.graticuleLineColor,q=void 0===T?"#999999":T,_=n.isInteractive,W=void 0===_||_,F=n.onClick,P=void 0===F?function(){}:F,L=n.onMouseMove,N=void 0===L?function(){}:L,O=n.tooltip,G=(0,r.useRef)(null),B=(0,i.Fg)(),z=(0,i.Bs)(t,e,u),D=z.margin,I=z.outerWidth,A=z.outerHeight,H=we({width:t,height:e,projectionType:d,projectionScale:h,projectionTranslation:g,projectionRotation:y,fillColor:C,borderWidth:j,borderColor:S}),U=H.projection,K=H.graticule,V=H.path,X=H.getFillColor,Y=H.getBorderWidth,Z=H.getBorderColor;(0,r.useEffect)((function(){if(G){G.current.width=I*l,G.current.height=A*l;var t=G.current.getContext("2d");t.scale(l,l),t.fillStyle=B.background,t.fillRect(0,0,I,A),t.translate(D.left,D.top),V.context(t),f.forEach((function(e){"graticule"===e?!0===R&&(t.lineWidth=k,t.strokeStyle=q,t.beginPath(),V(K()),t.stroke()):"features"===e?c.forEach((function(n){t.beginPath(),V(n),t.fillStyle=X(n),t.fill();var e=Y(n);e>0&&(t.strokeStyle=Z(n),t.lineWidth=e,t.stroke())})):e(t,n)}))}}),[G,I,A,D,l,B,V,K,X,Y,Z,c,f]);var $=(0,o.lL)(),J=$.showTooltipFromEvent,Q=$.hideTooltip,nn=(0,r.useCallback)((function(n){if(W&&O){var t=Ve(n,G.current,c,U);t?J((0,Se.jsx)(O,{feature:t}),n):Q(),N&&N(t||null,n)}}),[J,Q,W,O,G,c,U]),tn=(0,r.useCallback)((function(){return W&&Q()}),[W,Q]),en=(0,r.useCallback)((function(n){if(W&&P){var t=Ve(n,G.current,c,U);t&&P(t,n)}}),[W,G,c,U,P]);return(0,Se.jsx)("canvas",{ref:G,width:I*l,height:A*l,style:{width:I,height:A,cursor:W?"auto":"normal"},onMouseMove:nn,onMouseLeave:tn,onClick:en})}));Xe.displatName="GeoMapCanvas",Xe.propTypes=We;var Ye=(0,i.li)(Xe),Ze=function(n){return(0,Se.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,Se.jsx)(Ye,xe({width:e,height:r},n))}})},$e=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,a=n.features,l=n.data,c=n.match,f=void 0===c?"id":c,s=n.label,d=void 0===s?"id":s,p=n.value,h=void 0===p?"value":p,v=n.valueFormat,g=n.projectionType,m=void 0===g?"mercator":g,y=n.projectionScale,M=void 0===y?100:y,C=n.projectionTranslation,b=void 0===C?[.5,.5]:C,j=n.projectionRotation,E=void 0===j?[0,0,0]:j,S=n.colors,x=void 0===S?"PuBuGn":S,R=n.domain,w=n.unknownColor,k=void 0===w?"#999":w,T=n.borderWidth,q=void 0===T?0:T,_=n.borderColor,W=void 0===_?"#000000":_,F=n.enableGraticule,P=void 0!==F&&F,L=n.graticuleLineWidth,N=void 0===L?.5:L,O=n.graticuleLineColor,G=void 0===O?"#999999":O,B=n.layers,z=void 0===B?["graticule","features","legends"]:B,D=n.legends,I=void 0===D?[]:D,A=n.isInteractive,H=void 0===A||A,U=n.onClick,K=void 0===U?function(){}:U,V=n.tooltip,X=void 0===V?Te:V,Y=n.role,Z=void 0===Y?"img":Y,$=n.defs,J=void 0===$?[]:$,Q=n.fill,nn=void 0===Q?[]:Q,tn=(0,i.Bs)(t,e,u),en=tn.margin,rn=tn.outerWidth,on=tn.outerHeight,un=we({width:t,height:e,projectionType:m,projectionScale:M,projectionTranslation:b,projectionRotation:E,fillColor:function(){},borderWidth:q,borderColor:W}),an=un.graticule,ln=un.path,cn=un.getBorderWidth,fn=un.getBorderColor,sn=ke({features:a,data:l,match:f,label:d,value:h,valueFormat:v,colors:x,unknownColor:k,domain:R}),dn=sn.getFillColor,pn=sn.boundFeatures,hn=sn.legendData,vn=(0,i.Fg)(),gn=(0,i.yU)(J,pn,nn,{dataKey:"data",targetKey:"fill"}),mn=(0,o.lL)(),yn=mn.showTooltipFromEvent,Mn=mn.hideTooltip,Cn=(0,r.useCallback)((function(n,t){return H&&K&&K(n,t)}),[H,K]),bn=(0,r.useCallback)((function(n,t){return H&&X&&yn((0,Se.jsx)(X,{feature:n}),t)}),[H,yn,X]),jn=(0,r.useCallback)((function(n,t){return H&&X&&yn((0,Se.jsx)(X,{feature:n}),t)}),[H,yn,X]),En=(0,r.useCallback)((function(){return H&&Mn()}),[H,Mn]);return(0,Se.jsx)(i.tM,{width:rn,height:on,margin:en,theme:vn,defs:gn,role:Z,children:z.map((function(n,i){return"graticule"===n?!0!==P?null:(0,Se.jsx)(Ie,{path:ln,graticule:an,lineWidth:N,lineColor:G},"graticule"):"features"===n?(0,Se.jsx)(r.Fragment,{children:pn.map((function(n){return(0,Se.jsx)(Ae,{feature:n,path:ln,fillColor:dn(n),borderWidth:cn(n),borderColor:fn(n),onMouseEnter:bn,onMouseMove:jn,onMouseLeave:En,onClick:Cn},n.id)}))},"features"):"legends"===n?I.map((function(n,r){return(0,Se.jsx)(Ee.$6,xe({containerWidth:t,containerHeight:e,data:hn},n),r)})):(0,Se.jsx)(r.Fragment,{children:n({})},i)}))})}));$e.displayName="Choropleth",$e.propTypes=Pe;var Je=(0,i.li)($e),Qe=function(n){return(0,Se.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,Se.jsx)(Je,xe({width:e,height:r},n))}})},nr=function(n,t,e,r){var o=(0,i.P6)(t,n),u=o[0],a=o[1];return e.find((function(n){return je(n,r.invert([u,a]))}))},tr=(0,r.memo)((function(n){var t=n.width,e=n.height,u=n.margin,a=n.pixelRatio,l=void 0===a?"undefined"!=typeof window&&window.devicePixelRatio||1:a,c=n.features,f=n.data,s=n.match,d=void 0===s?"id":s,p=n.label,h=void 0===p?"id":p,v=n.value,g=void 0===v?"value":v,m=n.valueFormat,y=n.projectionType,M=void 0===y?"mercator":y,C=n.projectionScale,b=void 0===C?100:C,j=n.projectionTranslation,E=void 0===j?[.5,.5]:j,S=n.projectionRotation,x=void 0===S?[0,0,0]:S,R=n.colors,w=void 0===R?"PuBuGn":R,k=n.domain,T=n.unknownColor,q=void 0===T?"#999":T,_=n.borderWidth,W=void 0===_?0:_,F=n.borderColor,P=void 0===F?"#000000":F,L=n.enableGraticule,N=void 0!==L&&L,O=n.graticuleLineWidth,G=void 0===O?.5:O,B=n.graticuleLineColor,z=void 0===B?"#999999":B,D=n.layers,I=void 0===D?["graticule","features","legends"]:D,A=n.legends,H=void 0===A?[]:A,U=n.isInteractive,K=void 0===U||U,V=n.onClick,X=void 0===V?function(){}:V,Y=n.onMouseMove,Z=void 0===Y?function(){}:Y,$=n.tooltip,J=void 0===$?Te:$,Q=(0,r.useRef)(null),nn=(0,i.Fg)(),tn=(0,i.Bs)(t,e,u),en=tn.margin,rn=tn.outerWidth,on=tn.outerHeight,un=we({width:t,height:e,projectionType:M,projectionScale:b,projectionTranslation:E,projectionRotation:x,fillColor:function(){},borderWidth:W,borderColor:P}),an=un.projection,ln=un.graticule,cn=un.path,fn=un.getBorderWidth,sn=un.getBorderColor,dn=ke({features:c,data:f,match:d,label:h,value:g,valueFormat:m,colors:w,unknownColor:q,domain:k}),pn=dn.getFillColor,hn=dn.boundFeatures,vn=dn.legendData;(0,r.useEffect)((function(){if(Q){Q.current.width=rn*l,Q.current.height=on*l;var n=Q.current.getContext("2d");n.scale(l,l),n.fillStyle=nn.background,n.fillRect(0,0,rn,on),n.translate(en.left,en.top),cn.context(n),I.forEach((function(r){"graticule"===r?!0===N&&(n.lineWidth=G,n.strokeStyle=z,n.beginPath(),cn(ln()),n.stroke()):"features"===r?hn.forEach((function(t){n.beginPath(),cn(t),n.fillStyle=pn(t),n.fill();var e=fn(t);e>0&&(n.strokeStyle=sn(t),n.lineWidth=e,n.stroke())})):"legends"===r&&H.forEach((function(r){(0,Ee.as)(n,xe({},r,{data:vn,containerWidth:t,containerHeight:e,theme:nn}))}))}))}}),[Q,rn,on,en,l,nn,cn,ln,pn,fn,sn,hn,H,I]);var gn=(0,o.lL)(),mn=gn.showTooltipFromEvent,yn=gn.hideTooltip,Mn=(0,r.useCallback)((function(n){if(K&&J){var t=nr(n,Q.current,hn,an);t?mn((0,Se.jsx)(J,{feature:t}),n):yn(),Z&&Z(t||null,n)}}),[mn,yn,K,J,Q,hn,an]),Cn=(0,r.useCallback)((function(){return K&&yn()}),[K,yn]),bn=(0,r.useCallback)((function(n){if(K&&X){var t=nr(n,Q.current,hn,an);t&&X(t,n)}}),[K,Q,hn,an,X]);return(0,Se.jsx)("canvas",{ref:Q,width:rn*l,height:on*l,style:{width:rn,height:on,cursor:K?"auto":"normal"},onMouseMove:Mn,onMouseLeave:Cn,onClick:bn})}));tr.displayName="ChoroplethCanvas",tr.propTypes=Le;var er=(0,i.li)(tr),rr=function(n){return(0,Se.jsx)(i.d,{children:function(t){var e=t.width,r=t.height;return(0,Se.jsx)(er,xe({width:e,height:r},n))}})}}}]);