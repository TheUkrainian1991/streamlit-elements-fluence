"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1839],{969616:(t,e,r)=>{r.d(e,{yT:()=>tO,pN:()=>tz,NV:()=>tx,JA:()=>tb,nz:()=>tw,m1:()=>tI});var n=r(796406),i=r(269573),o=r(254025),a=r(396018),u=r(735167),l=r(476786),s=r(852612),h=r(551021),f=r(325006);let c=(0,r(840938).A)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var p=r(601886),_=r(359429),y=r(22389),d=r(657680),v=r(669501),m=r(291060),g=r(364704),x=r(746268),w=r(425874),b=r(96476),A=r(144425),N=r(116417),M=r(167666),k=r(759902),K=r(695813),E=r(251632),z=r(302402),O=r(750456),j=r(297971),I=r(391223),q=r(65430),C=r(821077),S=r(105961),T=r(26041),D=r(128732),P=r(617616),R=r(994630),V=r(298710),G=r(105988),U=r(616253),F=r(60541),J=r(296540),Q=r(858156),$=r.n(Q),B=r(411331),H=r.n(B),L=r(46957),W=r(605556),X=r.n(W),Y=r(918980),Z=r(423431),tt=r(449770),te=r(312061),tr=r(599065),tn=r(411827);function ti(){var t=(0,tn.C)((function(){var t,e,r,n,i,o,a,u=0,l=.5,s=1,h=1,f=te.D_,c=!1;function p(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(h*t<h*e?n:i),f(c?Math.max(0,Math.min(1,t)):t))}function _(t){return function(e){var r,n,i;return arguments.length?([r,n,i]=e,f=function(t,e){void 0===e&&(e=t,t=Z.A);for(var r=0,n=e.length-1,i=e[0],o=Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(t){var e=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return o[e](t-e)}}(t,[r,n,i]),p):[f(0),f(.5),f(1)]}}return p.domain=function(a){return arguments.length?([u,l,s]=a,t=o(u=+u),e=o(l=+l),r=o(s=+s),n=t===e?0:.5/(e-t),i=e===r?0:.5/(r-e),h=e<t?-1:1,p):[u,l,s]},p.clamp=function(t){return arguments.length?(c=!!t,p):c},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.range=_(Z.A),p.rangeRound=_(tt.A),p.unknown=function(t){return arguments.length?(a=t,p):a},function(a){return o=a,t=a(u),e=a(l),r=a(s),n=t===e?0:.5/(e-t),i=e===r?0:.5/(r-e),h=e<t?-1:1,p}})()(te.D_));return t.copy=function(){return(0,Y.C)(t,ti())},tr.K.apply(t,arguments)}var to=r(294660),ta=r(237888);function tu(){return(tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ts={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:n.A,accent:i.A,dark2:o.A,paired:a.A,pastel1:u.A,pastel2:l.A,set1:s.A,set2:h.A,set3:f.A,tableau10:c},th=Object.keys(ts),tf={brown_blueGreen:p.K,purpleRed_green:_.K,pink_yellowGreen:y.K,purple_orange:d.K,red_blue:v.K,red_grey:m.K,red_yellow_blue:g.K,red_yellow_green:x.K,spectral:w.K},tc=Object.keys(tf),tp={brown_blueGreen:p.A,purpleRed_green:_.A,pink_yellowGreen:y.A,purple_orange:d.A,red_blue:v.A,red_grey:m.A,red_yellow_blue:g.A,red_yellow_green:x.A,spectral:w.A},t_={blues:b.K,greens:A.K,greys:N.K,oranges:M.K,purples:k.K,reds:K.K,blue_green:E.K,blue_purple:z.K,green_blue:O.K,orange_red:j.K,purple_blue_green:I.K,purple_blue:q.K,purple_red:C.K,red_purple:S.K,yellow_green_blue:T.K,yellow_green:D.K,yellow_orange_brown:P.K,yellow_orange_red:R.K},ty=Object.keys(t_),td={blues:b.A,greens:A.A,greys:N.A,oranges:M.A,purples:k.A,reds:K.A,turbo:function(t){return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+(t=Math.max(0,Math.min(1,t)))*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},viridis:V.Ay,inferno:V.e0,magma:V.uz,plasma:V.pv,cividis:function(t){return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-(t=Math.max(0,Math.min(1,t)))*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},warm:G.Ko,cool:G.Ub,cubehelixDefault:U.A,blue_green:E.A,blue_purple:z.A,green_blue:O.A,orange_red:j.A,purple_blue_green:I.A,purple_blue:q.A,purple_red:C.A,red_purple:S.A,yellow_green_blue:T.A,yellow_green:D.A,yellow_orange_brown:P.A,yellow_orange_red:R.A},tv=tu({},ts,tf,t_),tm=(Object.keys(tv),{rainbow:G.Ay,sinebow:F.A}),tg=tu({},tp,td,tm),tx=(Object.keys(tg),function(t,e){if("function"==typeof t)return t;if(H()(t)){if(void 0!==t.theme){if(void 0===e)throw Error("Unable to use color from theme as no theme was provided");var r=$()(e,t.theme);if(void 0===r)throw Error("Color from theme is undefined at path: '"+t.theme+"'");return function(){return r}}if(void 0!==t.from){var n=function(e){return $()(e,t.from)};if(Array.isArray(t.modifiers)){for(var i,o=[],a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return tl(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tl(t,void 0):void 0}}(t))){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.modifiers);!(i=a()).done;)!function(){var t=i.value,e=t[0],r=t[1];if("brighter"===e)o.push(function(t){return t.brighter(r)});else if("darker"===e)o.push(function(t){return t.darker(r)});else{if("opacity"!==e)throw Error("Invalid color modifier: '"+e+"', must be one of: 'brighter', 'darker', 'opacity'");o.push(function(t){return t.opacity=r,t})}}();return 0===o.length?n:function(t){return o.reduce(function(t,e){return e(t)},(0,L.Qh)(n(t))).toString()}}return n}throw Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return t}}),tw=function(t,e){return(0,J.useMemo)(function(){return tx(t,e)},[t,e])},tb=X().oneOfType([X().string,X().func,X().shape({theme:X().string.isRequired}),X().shape({from:X().string.isRequired,modifiers:X().arrayOf(X().array)})]),tA={scheme:"turbo"},tN=function(t,e){var r=t.minValue,n=t.maxValue,i=void 0!==r?r:e.min,o=void 0!==n?n:e.max,a=(0,Y.Ay)().domain([i,o]).clamp(!0);if("colors"in t)a.range(t.colors);else if("interpolator"in t)a.interpolator(t.interpolator);else{var u,l=null!=(u=t.scheme)?u:tA.scheme;a.interpolator(tg[l])}return a},tM={scheme:"red_yellow_blue",divergeAt:.5},tk=function(t,e){var r,n,i=t.minValue,o=t.maxValue,a=void 0!==i?i:e.min,u=void 0!==o?o:e.max,l=[a,a+(u-a)/2,u],s=.5-(null!=(n=t.divergeAt)?n:tM.divergeAt),h=ti().domain(l).clamp(!0),f=function(t){return String(t)};return f="colors"in t?ti().domain(l.map(function(t){return t-s*(u-a)})).range(t.colors).interpolator():"interpolator"in t?t.interpolator:tg[null!=(r=t.scheme)?r:tM.scheme],h.interpolator(function(t){return f(t+s)})},tK={scheme:"turbo",steps:7},tE=function(t,e){var r=(0,to.A)().domain(t.domain||[e.min,e.max]).nice();if("colors"in t)r.range(t.colors);else{var n=t.scheme||tK.scheme,i=void 0===t.steps?tK.steps:t.steps,o=tg[n],a=Array.from({length:i}).map(function(t,e){return o(1/(i-1)*e)});r.range(a)}return r},tz=function(t,e){if("sequential"===t.type)return tN(t,e);if("diverging"===t.type)return tk(t,e);if("quantize"===t.type)return tE(t,e);throw Error("Invalid continuous color scale config")},tO=function(t,e){void 0===e&&(e=16);var r=t.domain();if("thresholds"in t){var n=[],i=(0,tn.A)().domain(r).range([0,1]);return t.range().forEach(function(e,r){var o=t.invertExtent(e),a=o[0],u=o[1];n.push({key:r+".0",offset:i(a),stopColor:e}),n.push({key:r+".1",offset:i(u),stopColor:e})}),n}var o=t.copy();return 2===r.length?o.domain([0,1]):3===r.length&&o.domain([0,.5,1]),o.ticks(e).map(function(t){return{key:""+t,offset:t,stopColor:""+o(t)}})},tj=function(t,e){if("function"==typeof t)return t;var r="function"==typeof e?e:function(t){return $()(t,e)};if(Array.isArray(t)){var n=(0,ta.A)(t),i=function(t){return n(r(t))};return i.scale=n,i}if(H()(t)){if(void 0!==t.datum)return function(e){return $()(e,t.datum)};if(void 0!==t.scheme){if(o=t.scheme,th.includes(o)){var o,a,u,l=(0,ta.A)(tv[t.scheme]),s=function(t){return l(r(t))};return s.scale=l,s}if(a=t.scheme,tc.includes(a)){if(void 0!==t.size&&(t.size<3||t.size>11))throw Error("Invalid size '"+t.size+"' for diverging color scheme '"+t.scheme+"', must be between 3~11");var h=(0,ta.A)(tv[t.scheme][t.size||11]),f=function(t){return h(r(t))};return f.scale=h,f}if(u=t.scheme,ty.includes(u)){if(void 0!==t.size&&(t.size<3||t.size>9))throw Error("Invalid size '"+t.size+"' for sequential color scheme '"+t.scheme+"', must be between 3~9");var c=(0,ta.A)(tv[t.scheme][t.size||9]),p=function(t){return c(r(t))};return p.scale=c,p}}throw Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return t}},tI=function(t,e){return(0,J.useMemo)(function(){return tj(t,e)},[t,e])}},368951:(t,e,r)=>{r.d(e,{A:()=>n});function n(t){return function(){return t}}},333235:(t,e,r)=>{r.d(e,{A:()=>n});function n(t){return(t()-.5)*1e-6}},100632:(t,e,r)=>{r.d(e,{A:()=>K,x:()=>N,y:()=>M});var n={value:()=>{}};function i(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new o(n)}function o(t){this._=t}function a(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var r,n=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,u=i.length;if(arguments.length<2){for(;++o<u;)if((r=(t=i[o]).type)&&(r=function(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<u;)if(r=(t=i[o]).type)n[r]=a(n[r],t.name,e);else if(null==e)for(r in n)n[r]=a(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new o(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};var u,l,s=0,h=0,f=0,c=0,p=0,_=0,y="object"==typeof performance&&performance.now?performance:Date,d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function v(){return p||(d(m),p=y.now()+_)}function m(){p=0}function g(){this._call=this._time=this._next=null}function x(t,e,r){var n=new g;return n.restart(t,e,r),n}function w(){p=(c=y.now())+_,s=h=0;try{!function(){v(),++s;for(var t,e=u;e;)(t=p-e._time)>=0&&e._call.call(null,t),e=e._next;--s}()}finally{s=0,function(){for(var t,e,r=u,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:u=e);l=t,A(n)}(),p=0}}function b(){var t=y.now(),e=t-c;e>1e3&&(_-=e,c=t)}function A(t){!s&&(h&&(h=clearTimeout(h)),t-p>24?(t<1/0&&(h=setTimeout(w,t-y.now()-_)),f&&(f=clearInterval(f))):(f||(c=y.now(),f=setInterval(b,1e3)),s=1,d(w)))}function N(t){return t.x}function M(t){return t.y}g.prototype=x.prototype={constructor:g,restart:function(t,e,r){if("function"!=typeof t)throw TypeError("callback is not a function");r=(null==r?v():+r)+(null==e?0:+e),this._next||l===this||(l?l._next=this:u=this,l=this),this._call=t,this._time=r,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}};var k=Math.PI*(3-Math.sqrt(5));function K(t){let e;var r,n=1,o=.001,a=1-Math.pow(.001,1/300),u=0,l=.6,s=new Map,h=x(p),f=i("tick","end"),c=(e=1,()=>(e=(1664525*e+0x3c6ef35f)%0x100000000)/0x100000000);function p(){_(),f.call("tick",r),n<o&&(h.stop(),f.call("end",r))}function _(e){var i,o,h=t.length;void 0===e&&(e=1);for(var f=0;f<e;++f)for(n+=(u-n)*a,s.forEach(function(t){t(n)}),i=0;i<h;++i)null==(o=t[i]).fx?o.x+=o.vx*=l:(o.x=o.fx,o.vx=0),null==o.fy?o.y+=o.vy*=l:(o.y=o.fy,o.vy=0);return r}function y(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+r),o=r*k;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),y(),r={tick:_,restart:function(){return h.restart(p),r},stop:function(){return h.stop(),r},nodes:function(e){return arguments.length?(t=e,y(),s.forEach(d),r):t},alpha:function(t){return arguments.length?(n=+t,r):n},alphaMin:function(t){return arguments.length?(o=+t,r):o},alphaDecay:function(t){return arguments.length?(a=+t,r):+a},alphaTarget:function(t){return arguments.length?(u=+t,r):u},velocityDecay:function(t){return arguments.length?(l=1-t,r):1-l},randomSource:function(t){return arguments.length?(c=t,s.forEach(d),r):c},force:function(t,e){return arguments.length>1?(null==e?s.delete(t):s.set(t,d(e)),r):s.get(t)},find:function(e,r,n){var i,o,a,u,l,s=0,h=t.length;for(null==n?n=1/0:n*=n,s=0;s<h;++s)(a=(i=e-(u=t[s]).x)*i+(o=r-u.y)*o)<n&&(l=u,n=a);return l},on:function(t,e){return arguments.length>1?(f.on(t,e),r):f.on(t)}}}},816597:(t,e,r)=>{function n(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,o,a,u,l,s,h,f,c,p=t._root,_={data:n},y=t._x0,d=t._y0,v=t._x1,m=t._y1;if(!p)return t._root=_,t;for(;p.length;)if((s=e>=(o=(y+v)/2))?y=o:v=o,(h=r>=(a=(d+m)/2))?d=a:m=a,i=p,!(p=p[f=h<<1|s]))return i[f]=_,t;if(u=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===u&&r===l)return _.next=p,i?i[f]=_:t._root=_,t;do i=i?i[f]=[,,,,]:t._root=[,,,,],(s=e>=(o=(y+v)/2))?y=o:v=o,(h=r>=(a=(d+m)/2))?d=a:m=a;while((f=h<<1|s)==(c=(l>=a)<<1|u>=o));return i[c]=p,i[f]=_,t}function i(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function o(t){return t[0]}function a(t){return t[1]}function u(t,e,r){var n=new l(null==e?o:e,null==r?a:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function l(t,e,r,n,i,o){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function s(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}r.d(e,{A:()=>u});var h=u.prototype=l.prototype;h.copy=function(){var t,e,r=new l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=s(n),r;for(t=[{source:n,target:r._root=[,,,,]}];n=t.pop();)for(var i=0;i<4;++i)(e=n.source[i])&&(e.length?t.push({source:e,target:n.target[i]=[,,,,]}):n.target[i]=s(e));return r},h.add=function(t){let e=+this._x.call(null,t),r=+this._y.call(null,t);return n(this.cover(e,r),e,r,t)},h.addAll=function(t){var e,r,i,o,a=t.length,u=Array(a),l=Array(a),s=1/0,h=1/0,f=-1/0,c=-1/0;for(r=0;r<a;++r)!(isNaN(i=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e)))&&(u[r]=i,l[r]=o,i<s&&(s=i),i>f&&(f=i),o<h&&(h=o),o>c&&(c=o));if(s>f||h>c)return this;for(this.cover(s,h).cover(f,c),r=0;r<a;++r)n(this,u[r],l[r],t[r]);return this},h.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var a,u,l=i-r||1,s=this._root;r>t||t>=i||n>e||e>=o;)switch(u=(e<n)<<1|t<r,(a=[,,,,])[u]=s,s=a,l*=2,u){case 0:i=r+l,o=n+l;break;case 1:r=i-l,o=n+l;break;case 2:i=r+l,n=o-l;break;case 3:r=i-l,n=o-l}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this},h.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},h.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},h.find=function(t,e,r){var n,o,a,u,l,s,h,f=this._x0,c=this._y0,p=this._x1,_=this._y1,y=[],d=this._root;for(d&&y.push(new i(d,f,c,p,_)),null==r?r=1/0:(f=t-r,c=e-r,p=t+r,_=e+r,r*=r);s=y.pop();)if((d=s.node)&&!((o=s.x0)>p)&&!((a=s.y0)>_)&&!((u=s.x1)<f)&&!((l=s.y1)<c)){if(d.length){var v=(o+u)/2,m=(a+l)/2;y.push(new i(d[3],v,m,u,l),new i(d[2],o,m,v,l),new i(d[1],v,a,u,m),new i(d[0],o,a,v,m)),(h=(e>=m)<<1|t>=v)&&(s=y[y.length-1],y[y.length-1]=y[y.length-1-h],y[y.length-1-h]=s)}else{var g=t-+this._x.call(null,d.data),x=e-+this._y.call(null,d.data),w=g*g+x*x;if(w<r){var b=Math.sqrt(r=w);f=t-b,c=e-b,p=t+b,_=e+b,n=d.data}}}return n},h.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,r,n,i,o,a,u,l,s,h,f,c,p=this._root,_=this._x0,y=this._y0,d=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(u=(_+d)/2))?_=u:d=u,(h=a>=(l=(y+v)/2))?y=l:v=l,e=p,!(p=p[f=h<<1|s]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(r=e,c=f)}for(;p.data!==t;)if(n=p,!(p=p.next))return this;return((i=p.next)&&delete p.next,n)?i?n.next=i:delete n.next:e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(r?r[c]=p:this._root=p)):this._root=i,this},h.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},h.root=function(){return this._root},h.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},h.visit=function(t){var e,r,n,o,a,u,l=[],s=this._root;for(s&&l.push(new i(s,this._x0,this._y0,this._x1,this._y1));e=l.pop();)if(!t(s=e.node,n=e.x0,o=e.y0,a=e.x1,u=e.y1)&&s.length){var h=(n+a)/2,f=(o+u)/2;(r=s[3])&&l.push(new i(r,h,f,a,u)),(r=s[2])&&l.push(new i(r,n,f,h,u)),(r=s[1])&&l.push(new i(r,h,o,a,f)),(r=s[0])&&l.push(new i(r,n,o,h,f))}return this},h.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var o=e.node;if(o.length){var a,u=e.x0,l=e.y0,s=e.x1,h=e.y1,f=(u+s)/2,c=(l+h)/2;(a=o[0])&&r.push(new i(a,u,l,f,c)),(a=o[1])&&r.push(new i(a,f,l,s,c)),(a=o[2])&&r.push(new i(a,u,c,f,h)),(a=o[3])&&r.push(new i(a,f,c,s,h))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},h.x=function(t){return arguments.length?(this._x=t,this):this._x},h.y=function(t){return arguments.length?(this._y=t,this):this._y}}}]);