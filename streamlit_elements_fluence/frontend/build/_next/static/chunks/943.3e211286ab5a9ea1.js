"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{500943:(e,r,t)=>{t.r(r),t.d(r,{Chord:()=>en,ChordCanvas:()=>el,ResponsiveChord:()=>ec,ResponsiveChordCanvas:()=>es,canvasDefaultProps:()=>T,commonDefaultProps:()=>w,computeArcPath:()=>D,computeChordArcsAndRibbons:()=>z,computeChordGenerators:()=>F,computeChordLayout:()=>P,computeRibbonPath:()=>V,svgDefaultProps:()=>S,useChord:()=>K,useChordArcsAndRibbons:()=>N,useChordGenerators:()=>q,useChordLayout:()=>H,useChordSelection:()=>Z,useCustomLayerProps:()=>X});var n=t(296540),o=t(754522),i=t(58448),a=t(760956),l=t(474848),c=t(969616),s=t(349231),u=t(142716),d=t(311160),f=Math.cos,b=Math.sin,h=Math.PI,v=h/2,g=2*h,p=Math.max,y=Array.prototype.slice;function m(e){return function(){return e}}var A=Math.PI,M=2*A,x=M-1e-6;function C(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function R(){return new C}function O(e){return e.source}function _(e){return e.target}function E(e){return e.radius}function k(e){return e.startAngle}function j(e){return e.endAngle}C.prototype=R.prototype={constructor:C,moveTo:function(e,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,r){this._+="L"+(this._x1=+e)+","+(this._y1=+r)},quadraticCurveTo:function(e,r,t,n){this._+="Q"+ +e+","+ +r+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(e,r,t,n,o,i){this._+="C"+ +e+","+ +r+","+ +t+","+ +n+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,r,t,n,o){e=+e,r=+r,t=+t,n=+n,o=+o;var i=this._x1,a=this._y1,l=t-e,c=n-r,s=i-e,u=a-r,d=s*s+u*u;if(o<0)throw Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=r);else if(d>1e-6){if(Math.abs(u*l-c*s)>1e-6&&o){var f=t-i,b=n-a,h=l*l+c*c,v=Math.sqrt(h),g=Math.sqrt(d),p=o*Math.tan((A-Math.acos((h+d-(f*f+b*b))/(2*v*g)))/2),y=p/g,m=p/v;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*s)+","+(r+y*u)),this._+="A"+o+","+o+",0,0,"+ +(u*f>s*b)+","+(this._x1=e+m*l)+","+(this._y1=r+m*c)}else this._+="L"+(this._x1=e)+","+(this._y1=r)}},arc:function(e,r,t,n,o,i){e=+e,r=+r,t=+t,i=!!i;var a=t*Math.cos(n),l=t*Math.sin(n),c=e+a,s=r+l,u=1^i,d=i?n-o:o-n;if(t<0)throw Error("negative radius: "+t);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),t&&(d<0&&(d=d%M+M),d>x?this._+="A"+t+","+t+",0,1,"+u+","+(e-a)+","+(r-l)+"A"+t+","+t+",0,1,"+u+","+(this._x1=c)+","+(this._y1=s):d>1e-6&&(this._+="A"+t+","+t+",0,"+ +(d>=A)+","+u+","+(this._x1=e+t*Math.cos(o))+","+(this._y1=r+t*Math.sin(o))))},rect:function(e,r,t,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+r)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};var G=t(465472);function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function W(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}var B=(0,n.memo)(function(e){var r=e.arc;return(0,l.jsx)(a.GK,{id:r.label,value:r.formattedValue,color:r.color,enableChip:!0})}),I=(0,n.memo)(function(e){var r=e.ribbon;return(0,l.jsx)(a.ST,{rows:[[(0,l.jsx)(a.vu,{color:r.source.color},"chip"),(0,l.jsx)("strong",{children:r.source.label},"id"),r.source.formattedValue],[(0,l.jsx)(a.vu,{color:r.target.color},"chip"),(0,l.jsx)("strong",{children:r.target.label},"id"),r.target.formattedValue]]})}),w={layers:["ribbons","arcs","labels","legends"],padAngle:0,innerRadiusRatio:.9,innerRadiusOffset:0,colors:{scheme:"nivo"},arcOpacity:1,activeArcOpacity:1,inactiveArcOpacity:.15,arcBorderWidth:1,arcBorderColor:{from:"color",modifiers:[["darker",.4]]},arcTooltip:B,ribbonOpacity:.5,activeRibbonOpacity:.85,inactiveRibbonOpacity:.15,ribbonBorderWidth:1,ribbonBorderColor:{from:"color",modifiers:[["darker",.4]]},ribbonBlendMode:"normal",enableLabel:!0,label:"id",labelOffset:12,labelRotation:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,legends:[],animate:!0,motionConfig:"gentle",role:"img"},S=L({},w,{ribbonBlendMode:"normal",ribbonTooltip:I}),T=L({},w,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),P=function(e){var r=e.padAngle;return(function(){var e=0,r=null,t=null,n=null;function o(o){var i,a,l,c,s,u,f=o.length,b=[],h=(0,d.y1)(f),v=[],y=[],m=y.groups=Array(f),A=Array(f*f);for(i=0,s=-1;++s<f;){for(a=0,u=-1;++u<f;)a+=o[s][u];b.push(a),v.push((0,d.y1)(f)),i+=a}for(r&&h.sort(function(e,t){return r(b[e],b[t])}),t&&v.forEach(function(e,r){e.sort(function(e,n){return t(o[r][e],o[r][n])})}),c=(i=p(0,g-e*f)/i)?e:g/f,a=0,s=-1;++s<f;){for(l=a,u=-1;++u<f;){var M=h[s],x=v[M][u],C=o[M][x],R=a,O=a+=C*i;A[x*f+M]={index:M,subindex:x,startAngle:R,endAngle:O,value:C}}m[M]={index:M,startAngle:l,endAngle:a,value:b[M]},a+=c}for(s=-1;++s<f;)for(u=s-1;++u<f;){var _=A[u*f+s],E=A[s*f+u];(_.value||E.value)&&y.push(_.value<E.value?{source:E,target:_}:{source:_,target:E})}return n?y.sort(n):y}return o.padAngle=function(r){return arguments.length?(e=p(0,r),o):e},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(t=e,o):t},o.sortChords=function(e){return arguments.length?(null==e?n=null:(n=function(r,t){return e(r.source.value+r.target.value,t.source.value+t.target.value)})._=e,o):n&&n._},o})().padAngle(r)},F=function(e){var r=e.width,t=e.height,n=e.innerRadiusRatio,o=e.innerRadiusOffset,i=[r/2,t/2],a=Math.min(r,t)/2,l=a*n;return{center:i,radius:a,innerRadius:l,arcGenerator:(0,u.A)().outerRadius(a).innerRadius(l),ribbonGenerator:(function(){var e=O,r=_,t=E,n=k,o=j,i=null;function a(){var a,l=y.call(arguments),c=e.apply(this,l),s=r.apply(this,l),u=+t.apply(this,(l[0]=c,l)),d=n.apply(this,l)-v,h=o.apply(this,l)-v,g=u*f(d),p=u*b(d),m=+t.apply(this,(l[0]=s,l)),A=n.apply(this,l)-v,M=o.apply(this,l)-v;if(i||(i=a=R()),i.moveTo(g,p),i.arc(0,0,u,d,h),(d!==A||h!==M)&&(i.quadraticCurveTo(0,0,m*f(A),m*b(A)),i.arc(0,0,m,A,M)),i.quadraticCurveTo(0,0,g,p),i.closePath(),a)return i=null,a+""||null}return a.radius=function(e){return arguments.length?(t="function"==typeof e?e:m(+e),a):t},a.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:m(+e),a):n},a.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:m(+e),a):o},a.source=function(r){return arguments.length?(e=r,a):e},a.target=function(e){return arguments.length?(r=e,a):r},a.context=function(e){return arguments.length?(i=null==e?null:e,a):i},a})().radius(a*(n-o))}},z=function(e){var r=e.chord,t=e.data,n=e.keys,o=e.getLabel,i=e.formatValue,a=e.getColor,l=r(t);return{arcs:l.groups.map(function(e){var r=L({},e,{id:n[e.index],formattedValue:i(e.value)});return L({},r,{label:o(r),color:a(r)})}),ribbons:l.map(function(e){var r=L({},e.source,{id:n[e.source.index],formattedValue:i(e.source.value)}),t=L({},e.target,{id:n[e.target.index],formattedValue:i(e.target.value)});return L({},e,{id:[r.id,t.id].sort().join("."),source:L({},r,{label:o(r),color:a(r)}),target:L({},t,{label:o(t),color:a(t)})})})}},D=function(e){var r=e.startAngle,t=e.endAngle,n=e.arcGenerator;return(0,s.to)([r,t],function(e,r){return n({startAngle:e,endAngle:r})})},V=function(e){var r=e.sourceStartAngle,t=e.sourceEndAngle,n=e.targetStartAngle,o=e.targetEndAngle,i=e.ribbonGenerator;return(0,s.to)([r,t,n,o],function(e,r,t,n){return i({source:{startAngle:Math.min(e,r),endAngle:Math.max(r,e)},target:{startAngle:Math.min(t,n),endAngle:Math.max(n,t)}})})},H=function(e){var r=e.padAngle;return(0,n.useMemo)(function(){return P({padAngle:r})},[r])},q=function(e){var r=e.width,t=e.height,o=e.innerRadiusRatio,i=e.innerRadiusOffset;return(0,n.useMemo)(function(){return F({width:r,height:t,innerRadiusRatio:o,innerRadiusOffset:i})},[r,t,o,i])},N=function(e){var r=e.chord,t=e.getColor,o=e.keys,i=e.data,a=e.getLabel,l=e.formatValue;return(0,n.useMemo)(function(){return z({chord:r,data:i,keys:o,getLabel:a,formatValue:l,getColor:t})},[r,t,o,i,a,l])},K=function(e){var r=e.data,t=e.keys,i=e.label,a=void 0===i?w.label:i,l=e.valueFormat,s=e.width,u=e.height,d=e.innerRadiusRatio,f=void 0===d?w.innerRadiusRatio:d,b=e.innerRadiusOffset,h=void 0===b?w.innerRadiusOffset:b,v=e.padAngle,g=void 0===v?w.padAngle:v,p=e.colors,y=void 0===p?w.colors:p,m=H({padAngle:g}),A=q({width:s,height:u,innerRadiusRatio:f,innerRadiusOffset:h}),M=A.center,x=A.radius,C=A.innerRadius,R=A.arcGenerator,O=A.ribbonGenerator,_=(0,n.useMemo)(function(){return(0,o.gD)(a)},[a]),E=(0,o.d_)(l),k=(0,c.m1)(y,"id"),j=N({chord:m,getColor:k,keys:t,data:r,getLabel:_,formatValue:E});return{center:M,chord:m,radius:x,innerRadius:C,arcGenerator:R,ribbonGenerator:O,getColor:k,arcs:j.arcs,ribbons:j.ribbons}},Z=function(e){var r=e.arcOpacity,t=void 0===r?w.arcOpacity:r,o=e.activeArcOpacity,i=void 0===o?w.activeArcOpacity:o,a=e.inactiveArcOpacity,l=void 0===a?w.inactiveArcOpacity:a,c=e.ribbons,s=e.ribbonOpacity,u=void 0===s?w.ribbonOpacity:s,d=e.activeRibbonOpacity,f=void 0===d?w.activeRibbonOpacity:d,b=e.inactiveRibbonOpacity,h=void 0===b?w.inactiveRibbonOpacity:b,v=(0,n.useState)(null),g=v[0],p=v[1],y=(0,n.useState)(null),m=y[0],A=y[1],M=(0,n.useMemo)(function(){var e=[],r=[];return g&&(e.push(g.id),c.filter(function(e){return e.source.id===g.id||e.target.id===g.id}).forEach(function(e){r.push(e.id)})),m&&(e.push(m.source.id),e.push(m.target.id),r.push(m.id)),{selectedArcIds:e,selectedRibbonIds:r}},[g,m,c]),x=M.selectedArcIds.length>1||M.selectedRibbonIds.length>0,C=(0,n.useMemo)(function(){return function(e){return x?M.selectedArcIds.includes(e.id)?i:l:t}},[x,M.selectedArcIds,t,i,l]),R=(0,n.useMemo)(function(){return function(e){return x?M.selectedRibbonIds.includes(e.id)?f:h:u}},[x,M.selectedRibbonIds,u,f,h]);return L({currentArc:g,setCurrentArc:p,currentRibbon:m,setCurrentRibbon:A,hasSelection:x},M,{getArcOpacity:C,getRibbonOpacity:R})},X=function(e){var r=e.center,t=e.radius,o=e.arcs,i=e.arcGenerator,a=e.ribbons,l=e.ribbonGenerator;return(0,n.useMemo)(function(){return{center:r,radius:t,arcs:o,arcGenerator:i,ribbons:a,ribbonGenerator:l}},[r,t,o,i,a,l])},Q=(0,n.memo)(function(e){var r=e.ribbon,t=e.ribbonGenerator,o=e.animatedProps,i=e.borderWidth,c=e.blendMode,u=e.isInteractive,d=e.setCurrent,f=e.onMouseEnter,b=e.onMouseMove,h=e.onMouseLeave,v=e.onClick,g=e.tooltip,p=(0,a.fS)(),y=p.showTooltipFromEvent,m=p.hideTooltip,A=(0,n.useMemo)(function(){if(u)return function(e){d(r),y((0,n.createElement)(g,{ribbon:r}),e),null==f||f(r,e)}},[u,y,g,r,f,d]),M=(0,n.useMemo)(function(){if(u)return function(e){y((0,n.createElement)(g,{ribbon:r}),e),null==b||b(r,e)}},[u,y,g,r,b]),x=(0,n.useMemo)(function(){if(u)return function(e){d(null),m(),null==h||h(r,e)}},[u,m,r,h,d]),C=(0,n.useMemo)(function(){if(u&&v)return function(e){return null==v?void 0:v(r,e)}},[u,r,v]);return(0,l.jsx)(s.CS.path,{"data-testid":"ribbon."+r.source.id+"."+r.target.id,d:V({sourceStartAngle:o.sourceStartAngle,sourceEndAngle:o.sourceEndAngle,targetStartAngle:o.targetStartAngle,targetEndAngle:o.targetEndAngle,ribbonGenerator:t}),fill:o.color,opacity:o.opacity,strokeWidth:i,stroke:o.borderColor,style:{mixBlendMode:c},onMouseEnter:A,onMouseMove:M,onMouseLeave:x,onClick:C})}),$=function(e,r){var t,n,i=e.source,a=e.target;if(i.startAngle<a.startAngle?(t=i,n=a):(t=a,n=i),r){var l=(0,o.Ex)(t),c=(0,o.Ex)(n);return{sourceStartAngle:l,sourceEndAngle:l,targetStartAngle:c,targetEndAngle:c}}return{sourceStartAngle:t.startAngle,sourceEndAngle:t.endAngle,targetStartAngle:n.startAngle,targetEndAngle:n.endAngle}},J=(0,n.memo)(function(e){var r=e.ribbons,t=e.ribbonGenerator,n=e.borderWidth,i=e.borderColor,a=e.getOpacity,u=e.blendMode,d=e.isInteractive,f=e.setCurrent,b=e.onMouseEnter,h=e.onMouseMove,v=e.onMouseLeave,g=e.onClick,p=e.tooltip,y=(0,o.mk)(),m=y.animate,A=y.config,M=(0,o.DP)(),x=(0,c.nz)(i,M),C=(0,s.pn)(r,{keys:function(e){return e.id},initial:function(e){return L({},$(e,!1),{color:e.source.color,opacity:a(e),borderColor:x(e.source)})},from:function(e){return L({},$(e,!1),{color:e.source.color,opacity:0,borderColor:x(e.source)})},update:function(e){return L({},$(e,!1),{color:e.source.color,opacity:a(e),borderColor:x(e.source)})},leave:function(e){return L({},$(e,!1),{color:e.source.color,opacity:0,borderColor:x(e.source)})},expires:!0,config:A,immediate:!m});return(0,l.jsx)(l.Fragment,{children:C(function(e,r){return(0,l.jsx)(Q,{ribbon:r,ribbonGenerator:t,animatedProps:e,borderWidth:n,blendMode:u,setCurrent:f,isInteractive:d,tooltip:p,onMouseEnter:b,onMouseMove:h,onMouseLeave:v,onClick:g},r.id)})})}),U=(0,n.memo)(function(e){var r=e.arc,t=e.animatedProps,o=e.borderWidth,i=e.arcGenerator,c=e.setCurrent,u=e.isInteractive,d=e.onMouseEnter,f=e.onMouseMove,b=e.onMouseLeave,h=e.onClick,v=e.tooltip,g=(0,a.fS)(),p=g.showTooltipFromEvent,y=g.hideTooltip,m=(0,n.useMemo)(function(){if(u)return function(e){c(r),p((0,n.createElement)(v,{arc:r}),e),null==d||d(r,e)}},[u,p,v,r,d,c]),A=(0,n.useMemo)(function(){if(u)return function(e){p((0,n.createElement)(v,{arc:r}),e),null==f||f(r,e)}},[u,p,v,r,f]),M=(0,n.useMemo)(function(){if(u)return function(e){c(null),y(),null==b||b(r,e)}},[u,y,r,b,c]),x=(0,n.useMemo)(function(){if(u&&h)return function(e){return null==h?void 0:h(r,e)}},[u,r,h]);return(0,l.jsx)(s.CS.path,{"data-testid":"arc."+r.id,d:D({startAngle:t.startAngle,endAngle:t.endAngle,arcGenerator:i}),fill:t.color,opacity:t.opacity,strokeWidth:o,stroke:t.borderColor,onMouseEnter:m,onMouseMove:A,onMouseLeave:M,onClick:x})}),Y=(0,n.memo)(function(e){var r=e.arcs,t=e.borderWidth,n=e.borderColor,i=e.getOpacity,a=e.arcGenerator,u=e.setCurrent,d=e.isInteractive,f=e.onMouseEnter,b=e.onMouseMove,h=e.onMouseLeave,v=e.onClick,g=e.tooltip,p=(0,o.mk)(),y=p.animate,m=p.config,A=(0,o.DP)(),M=(0,c.nz)(n,A),x=(0,s.pn)(r,{keys:function(e){return e.id},initial:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:M(e)}},from:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:M(e)}},update:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:i(e),borderColor:M(e)}},leave:function(e){return{startAngle:e.startAngle,endAngle:e.endAngle,color:e.color,opacity:0,borderColor:M(e)}},expires:!0,config:m,immediate:!y});return(0,l.jsx)(l.Fragment,{children:x(function(e,r){return(0,l.jsx)(U,{arc:r,arcGenerator:a,animatedProps:e,borderWidth:t,setCurrent:u,isInteractive:d,tooltip:g,onMouseEnter:f,onMouseMove:b,onMouseLeave:h,onClick:v},r.id)})})}),ee=(0,n.memo)(function(e){var r=e.arcs,t=e.radius,i=e.rotation,a=e.color,u=(0,o.mk)(),d=u.animate,f=u.config,b=(0,o.DP)(),h=(0,c.nz)(a,b),v=(0,n.useMemo)(function(){return r.map(function(e){var r=(0,o.Ex)(e),n=(0,o.vz)(t,r,i);return{id:e.id,label:e.label,x:n.x,y:n.y,rotation:n.rotate,color:h(e),textAnchor:n.align,dominantBaseline:n.baseline}})},[r,t,i,h]),g=(0,s.pn)(v,{keys:function(e){return e.id},initial:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},from:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},enter:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},update:function(e){return{x:e.x,y:e.y,rotation:e.rotation,color:e.color}},expires:!0,config:f,immediate:!d});return(0,l.jsx)(l.Fragment,{children:g(function(e,r){return(0,l.jsx)(s.CS.text,{"data-testid":"label."+r.id,style:L({},b.labels.text,{pointerEvents:"none",fill:e.color}),transform:(0,s.to)([e.x,e.y,e.rotation],function(e,r,t){return"translate("+e+", "+r+") rotate("+t+")"}),textAnchor:r.textAnchor,dominantBaseline:r.dominantBaseline,children:r.label},r.id)})})}),er=["isInteractive","animate","motionConfig","theme","renderWrapper"],et=function(e){var r=e.data,t=e.keys,a=e.label,c=e.valueFormat,s=e.margin,u=e.width,d=e.height,f=e.innerRadiusRatio,b=void 0===f?S.innerRadiusRatio:f,h=e.innerRadiusOffset,v=void 0===h?S.innerRadiusOffset:h,g=e.padAngle,p=void 0===g?S.padAngle:g,y=e.layers,m=void 0===y?S.layers:y,A=e.colors,M=void 0===A?S.colors:A,x=e.arcBorderWidth,C=void 0===x?S.arcBorderWidth:x,R=e.arcBorderColor,O=void 0===R?S.arcBorderColor:R,_=e.arcOpacity,E=void 0===_?S.arcOpacity:_,k=e.activeArcOpacity,j=void 0===k?S.activeArcOpacity:k,G=e.inactiveArcOpacity,W=void 0===G?S.inactiveArcOpacity:G,B=e.arcTooltip,I=void 0===B?S.arcTooltip:B,w=e.ribbonBorderWidth,T=void 0===w?S.ribbonBorderWidth:w,P=e.ribbonBorderColor,F=void 0===P?S.ribbonBorderColor:P,z=e.ribbonBlendMode,D=void 0===z?S.ribbonBlendMode:z,V=e.ribbonOpacity,H=void 0===V?S.ribbonOpacity:V,q=e.activeRibbonOpacity,N=void 0===q?S.activeRibbonOpacity:q,Q=e.inactiveRibbonOpacity,$=void 0===Q?S.inactiveRibbonOpacity:Q,U=e.ribbonTooltip,er=void 0===U?S.ribbonTooltip:U,et=e.enableLabel,en=void 0===et?S.enableLabel:et,eo=e.labelOffset,ei=void 0===eo?S.labelOffset:eo,ea=e.labelRotation,el=void 0===ea?S.labelRotation:ea,ec=e.labelTextColor,es=void 0===ec?S.labelTextColor:ec,eu=e.isInteractive,ed=void 0===eu?S.isInteractive:eu,ef=e.onArcMouseEnter,eb=e.onArcMouseMove,eh=e.onArcMouseLeave,ev=e.onArcClick,eg=e.onRibbonMouseEnter,ep=e.onRibbonMouseMove,ey=e.onRibbonMouseLeave,em=e.onRibbonClick,eA=e.legends,eM=void 0===eA?S.legends:eA,ex=e.role,eC=void 0===ex?S.role:ex,eR=e.ariaLabel,eO=e.ariaLabelledBy,e_=e.ariaDescribedBy,eE=(0,o.Xl)(u,d,s),ek=eE.margin,ej=eE.innerWidth,eG=eE.innerHeight,eL=eE.outerWidth,eW=eE.outerHeight,eB=K({data:r,keys:t,label:a,valueFormat:c,width:ej,height:eG,innerRadiusRatio:b,innerRadiusOffset:v,padAngle:p,colors:M}),eI=eB.center,ew=eB.radius,eS=eB.arcGenerator,eT=eB.ribbonGenerator,eP=eB.arcs,eF=eB.ribbons,ez=Z({arcOpacity:E,activeArcOpacity:j,inactiveArcOpacity:W,ribbons:eF,ribbonOpacity:H,activeRibbonOpacity:N,inactiveRibbonOpacity:$}),eD=ez.setCurrentArc,eV=ez.setCurrentRibbon,eH=ez.getArcOpacity,eq=ez.getRibbonOpacity,eN=X({center:eI,radius:ew,arcs:eP,arcGenerator:eS,ribbons:eF,ribbonGenerator:eT});if(ew<=0)return null;var eK=eP.map(function(e){return{id:e.id,label:e.label,color:e.color}}),eZ={ribbons:null,arcs:null,labels:null,legends:null};return m.includes("ribbons")&&(eZ.ribbons=(0,l.jsx)("g",{transform:"translate("+eI[0]+", "+eI[1]+")",children:(0,l.jsx)(J,{ribbons:eF,ribbonGenerator:eT,borderWidth:T,borderColor:F,getOpacity:eq,blendMode:D,setCurrent:eV,isInteractive:ed,onMouseEnter:eg,onMouseMove:ep,onMouseLeave:ey,onClick:em,tooltip:er})},"ribbons")),m.includes("arcs")&&(eZ.arcs=(0,l.jsx)("g",{transform:"translate("+eI[0]+", "+eI[1]+")",children:(0,l.jsx)(Y,{arcs:eP,arcGenerator:eS,borderWidth:C,borderColor:O,getOpacity:eH,setCurrent:eD,isInteractive:ed,onMouseEnter:ef,onMouseMove:eb,onMouseLeave:eh,onClick:ev,tooltip:I})},"arcs")),m.includes("labels")&&en&&(eZ.labels=(0,l.jsx)("g",{transform:"translate("+eI[0]+", "+eI[1]+")",children:(0,l.jsx)(ee,{arcs:eP,radius:ew+ei,rotation:el,color:es})},"labels")),m.includes("legends")&&eM.length>0&&(eZ.legends=(0,l.jsx)(n.Fragment,{children:eM.map(function(e,r){return(0,l.jsx)(i.$i,L({},e,{containerWidth:ej,containerHeight:eG,data:eK}),r)})},"legends")),(0,l.jsx)(o.Ge,{width:eL,height:eW,margin:ek,role:eC,ariaLabel:eR,ariaLabelledBy:eO,ariaDescribedBy:e_,children:m.map(function(e,r){var t;return"function"==typeof e?(0,l.jsx)(n.Fragment,{children:(0,n.createElement)(e,eN)},r):null!=(t=null==eZ?void 0:eZ[e])?t:null})})},en=function(e){var r=e.isInteractive,t=void 0===r?S.isInteractive:r,n=e.animate,i=void 0===n?S.animate:n,a=e.motionConfig,c=void 0===a?S.motionConfig:a,s=e.theme,u=e.renderWrapper,d=W(e,er);return(0,l.jsx)(o.mc,{animate:i,isInteractive:t,motionConfig:c,renderWrapper:u,theme:s,children:(0,l.jsx)(et,L({isInteractive:t},d))})},eo=["theme","isInteractive","animate","motionConfig","renderWrapper"],ei=function(e){var r=e.event,t=e.canvasEl,n=e.center,i=e.margin,a=e.radius,l=e.innerRadius,c=e.arcs,s=(0,o.H9)(t,r),u=s[0],d=s[1],f=i.left+n[0],b=i.top+n[1];return(0,G.Aw)(f,b,a,l,c,u,d)},ea=function(e){var r=e.pixelRatio,t=void 0===r?T.pixelRatio:r,s=e.margin,u=e.data,d=e.keys,f=e.width,b=e.height,h=e.label,v=void 0===h?T.label:h,g=e.valueFormat,p=e.innerRadiusRatio,y=void 0===p?T.innerRadiusRatio:p,m=e.innerRadiusOffset,A=void 0===m?T.innerRadiusOffset:m,M=e.padAngle,x=void 0===M?T.padAngle:M,C=e.layers,R=void 0===C?T.layers:C,O=e.colors,_=void 0===O?T.colors:O,E=e.arcBorderWidth,k=void 0===E?T.arcBorderWidth:E,j=e.arcBorderColor,G=void 0===j?T.arcBorderColor:j,W=e.arcOpacity,B=void 0===W?T.arcOpacity:W,I=e.activeArcOpacity,w=void 0===I?T.activeArcOpacity:I,S=e.inactiveArcOpacity,P=void 0===S?T.inactiveArcOpacity:S,F=e.arcTooltip,z=void 0===F?T.arcTooltip:F,D=e.ribbonBorderWidth,V=void 0===D?T.ribbonBorderWidth:D,H=e.ribbonBorderColor,q=void 0===H?T.ribbonBorderColor:H,N=e.ribbonOpacity,Q=void 0===N?T.ribbonOpacity:N,$=e.activeRibbonOpacity,J=void 0===$?T.activeRibbonOpacity:$,U=e.inactiveRibbonOpacity,Y=void 0===U?T.inactiveRibbonOpacity:U,ee=e.enableLabel,er=void 0===ee?T.enableLabel:ee,et=e.labelOffset,en=void 0===et?T.labelOffset:et,eo=e.labelRotation,ea=void 0===eo?T.labelRotation:eo,el=e.labelTextColor,ec=void 0===el?T.labelTextColor:el,es=e.isInteractive,eu=void 0===es?T.isInteractive:es,ed=e.onArcMouseEnter,ef=e.onArcMouseMove,eb=e.onArcMouseLeave,eh=e.onArcClick,ev=e.legends,eg=void 0===ev?T.legends:ev,ep=(0,n.useRef)(null),ey=(0,o.Xl)(f,b,s),em=ey.innerWidth,eA=ey.innerHeight,eM=ey.outerWidth,ex=ey.outerHeight,eC=ey.margin,eR=K({data:u,keys:d,label:v,valueFormat:g,width:em,height:eA,innerRadiusRatio:y,innerRadiusOffset:A,padAngle:x,colors:_}),eO=eR.center,e_=eR.radius,eE=eR.innerRadius,ek=eR.arcGenerator,ej=eR.ribbonGenerator,eG=eR.arcs,eL=eR.ribbons,eW=Z({arcOpacity:B,activeArcOpacity:w,inactiveArcOpacity:P,ribbons:eL,ribbonOpacity:Q,activeRibbonOpacity:J,inactiveRibbonOpacity:Y}),eB=eW.currentArc,eI=eW.setCurrentArc,ew=eW.getArcOpacity,eS=eW.getRibbonOpacity,eT=(0,o.DP)(),eP=(0,c.nz)(ec,eT),eF=(0,c.nz)(G,eT),ez=(0,c.nz)(q,eT),eD=X({center:eO,radius:e_,arcs:eG,arcGenerator:ek,ribbons:eL,ribbonGenerator:ej});(0,n.useEffect)(function(){if(null!==ep.current){ep.current.width=eM*t,ep.current.height=ex*t;var e=ep.current.getContext("2d");e.scale(t,t),e.fillStyle=eT.background,e.fillRect(0,0,eM,ex),e_<=0||R.forEach(function(r){if("ribbons"===r&&(e.save(),e.translate(eC.left+eO[0],eC.top+eO[1]),ej.context(e),eL.forEach(function(r){e.save(),e.globalAlpha=eS(r),e.fillStyle=r.source.color,e.beginPath(),ej(r),e.fill(),V>0&&(e.strokeStyle=ez(r.source),e.lineWidth=V,e.stroke()),e.restore()}),e.restore()),"arcs"===r&&(e.save(),e.translate(eC.left+eO[0],eC.top+eO[1]),ek.context(e),eG.forEach(function(r){e.save(),e.globalAlpha=ew(r),e.fillStyle=r.color,e.beginPath(),ek(r),e.fill(),k>0&&(e.strokeStyle=eF(r),e.lineWidth=k,e.stroke()),e.restore()}),e.restore()),"labels"===r&&!0===er&&(e.save(),e.translate(eC.left+eO[0],eC.top+eO[1]),e.font=eT.labels.text.fontSize+"px "+(eT.labels.text.fontFamily||"sans-serif"),eG.forEach(function(r){var t=(0,o.Ex)(r),n=(0,o.vz)(e_+en,t,ea);e.save(),e.translate(n.x,n.y),e.rotate((0,o.tR)(n.rotate)),e.textAlign=n.align,e.textBaseline=n.baseline,e.fillStyle=eP(r),e.fillText(r.label,0,0),e.restore()}),e.restore()),"legends"===r){e.save(),e.translate(eC.left,eC.top);var t=eG.map(function(e){return{id:e.id,label:e.label,color:e.color}});eg.forEach(function(r){(0,i.ZG)(e,L({},r,{data:t,containerWidth:em,containerHeight:eA,theme:eT}))}),e.restore()}"function"==typeof r&&r(e,eD)})}},[ep,em,eA,eM,ex,eC,t,eO,e_,eT,R,eG,ek,ew,k,eF,eL,ej,eS,V,ez,er,en,ea,eP,eg,eD]);var eV=(0,a.fS)(),eH=eV.showTooltipFromEvent,eq=eV.hideTooltip,eN=(0,n.useCallback)(function(e){if(null!==ep.current){var r=ei({event:e,canvasEl:ep.current,center:eO,margin:eC,radius:e_,innerRadius:eE,arcs:eG});r?(eI(r),eH((0,n.createElement)(z,{arc:r}),e),!eB&&ed&&ed(r,e),ef&&ef(r,e),eB&&eB.id!==r.id&&eb&&eb(r,e)):(eI(null),eq(),eB&&eb&&eb(eB,e))}},[ep,eO,eC,e_,eE,eG,eI,eB,eH,eq,z,ed,ef,eb]),eK=(0,n.useCallback)(function(){eI(null),eq()},[eI,eq]),eZ=(0,n.useCallback)(function(e){if(null!==ep.current&&eh){var r=ei({event:e,canvasEl:ep.current,center:eO,margin:eC,radius:e_,innerRadius:eE,arcs:eG});r&&eh(r,e)}},[ep,eO,eC,e_,eE,eG,eh]);return(0,l.jsx)("canvas",{ref:ep,width:eM*t,height:ex*t,style:{width:eM,height:ex,cursor:eu?"auto":"normal"},onMouseEnter:eu?eN:void 0,onMouseMove:eu?eN:void 0,onMouseLeave:eu?eK:void 0,onClick:eu?eZ:void 0})},el=function(e){var r=e.theme,t=e.isInteractive,n=void 0===t?T.isInteractive:t,i=e.animate,a=void 0===i?T.animate:i,c=e.motionConfig,s=void 0===c?T.motionConfig:c,u=e.renderWrapper,d=W(e,eo);return(0,l.jsx)(o.mc,{isInteractive:n,animate:a,motionConfig:s,theme:r,renderWrapper:u,children:(0,l.jsx)(ea,L({isInteractive:n},d))})},ec=function(e){return(0,l.jsx)(o.KF,{children:function(r){var t=r.width,n=r.height;return(0,l.jsx)(en,L({},e,{width:t,height:n}))}})},es=function(e){return(0,l.jsx)(o.KF,{children:function(r){var t=r.width,n=r.height;return(0,l.jsx)(el,L({},e,{width:t,height:n}))}})}},311160:(e,r,t)=>{function n(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}t.d(r,{T9:()=>a,Am:()=>l,jk:()=>c,y1:()=>s,cz:()=>u});var o=function(e){var r;return 1===e.length&&(r=e,e=function(e,t){return n(r(e),t)}),{left:function(r,t,n,o){for(null==n&&(n=0),null==o&&(o=r.length);n<o;){var i=n+o>>>1;0>e(r[i],t)?n=i+1:o=i}return n},right:function(r,t,n,o){for(null==n&&(n=0),null==o&&(o=r.length);n<o;){var i=n+o>>>1;e(r[i],t)>0?o=i:n=i+1}return n}}}(n);o.right,o.left;var i=Array.prototype;function a(e,r){var t,n,o=e.length,i=-1;if(null==r){for(;++i<o;)if(null!=(t=e[i])&&t>=t)for(n=t;++i<o;)null!=(t=e[i])&&t>n&&(n=t)}else for(;++i<o;)if(null!=(t=r(e[i],i,e))&&t>=t)for(n=t;++i<o;)null!=(t=r(e[i],i,e))&&t>n&&(n=t);return n}function l(e){for(var r,t,n,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(t=Array(a);--o>=0;)for(r=(n=e[o]).length;--r>=0;)t[--a]=n[r];return t}function c(e,r){var t,n,o=e.length,i=-1;if(null==r){for(;++i<o;)if(null!=(t=e[i])&&t>=t)for(n=t;++i<o;)null!=(t=e[i])&&n>t&&(n=t)}else for(;++i<o;)if(null!=(t=r(e[i],i,e))&&t>=t)for(n=t;++i<o;)null!=(t=r(e[i],i,e))&&n>t&&(n=t);return n}function s(e,r,t){e=+e,r=+r,t=(o=arguments.length)<2?(r=e,e=0,1):o<3?1:+t;for(var n=-1,o=0|Math.max(0,Math.ceil((r-e)/t)),i=Array(o);++n<o;)i[n]=e+n*t;return i}function u(e,r){var t,n=e.length,o=-1,i=0;if(null==r)for(;++o<n;)(t=+e[o])&&(i+=t);else for(;++o<n;)(t=+r(e[o],o,e))&&(i+=t);return i}i.slice,i.map}}]);