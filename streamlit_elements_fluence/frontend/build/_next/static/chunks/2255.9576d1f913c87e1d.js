"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2255],{422255:function(e,t,a){a.r(t),a.d(t,{Bar:function(){return ve},BarCanvas:function(){return xe},BarItem:function(){return A},BarTooltip:function(){return N},BarTotals:function(){return he},ResponsiveBar:function(){return ye},ResponsiveBarCanvas:function(){return ke},canvasDefaultProps:function(){return z},defaultProps:function(){return Y},svgDefaultProps:function(){return X}});var i=a(135332),n=a(397817),r=a(69543),l=a(973935),o=a(729193),d=a(479312),u=/^--/;function s(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||u.test(e)||h.hasOwnProperty(e)&&h[e]?(""+t).trim():t+"px"}var c={};var h={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","Ms","Moz","O"];h=Object.keys(h).reduce(((e,t)=>(f.forEach((a=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(a,t)]=e[t])),e)),h);var b=/^(matrix|translate|scale|rotate|skew)/,v=/^(translate)/,g=/^(rotate|skew)/,m=(e,t)=>o.is.num(e)&&0!==e?e+t:e,p=(e,t)=>o.is.arr(e)?e.every((e=>p(e,t))):o.is.num(e)?e===t:parseFloat(e)===t,x=class extends d.rS{constructor({x:e,y:t,z:a,...i}){const n=[],r=[];(e||t||a)&&(n.push([e||0,t||0,a||0]),r.push((e=>[`translate3d(${e.map((e=>m(e,"px"))).join(",")})`,p(e,0)]))),(0,o.rU)(i,((e,t)=>{if("transform"===t)n.push([e||""]),r.push((e=>[e,""===e]));else if(b.test(t)){if(delete i[t],o.is.und(e))return;const a=v.test(t)?"px":g.test(t)?"deg":"";n.push((0,o.qo)(e)),r.push("rotate3d"===t?([e,t,i,n])=>[`rotate3d(${e},${t},${i},${m(n,a)})`,p(n,0)]:e=>[`${t}(${e.map((e=>m(e,a))).join(",")})`,p(e,t.startsWith("scale")?1:0)])}})),n.length&&(i.transform=new y(n,r)),super(i)}},y=class extends o.B0{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return(0,o.S6)(this.inputs,((a,i)=>{const n=(0,o.je)(a[0]),[r,l]=this.transforms[i](o.is.arr(n)?n:a.map(o.je));e+=" "+r,t=t&&l})),t?"none":e}observerAdded(e){1==e&&(0,o.S6)(this.inputs,(e=>(0,o.S6)(e,(e=>(0,o.j$)(e)&&(0,o.UI)(e,this)))))}observerRemoved(e){0==e&&(0,o.S6)(this.inputs,(e=>(0,o.S6)(e,(e=>(0,o.j$)(e)&&(0,o.iL)(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),(0,o.k0)(this,e)}};r.OH.assign({batchedUpdates:l.unstable_batchedUpdates,createStringInterpolator:o.qS,colors:o.O9});var k=(0,d.Ld)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const a="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:i,style:n,children:r,scrollTop:l,scrollLeft:o,viewBox:d,...h}=t,f=Object.values(h),b=Object.keys(h).map((t=>a||e.hasAttribute(t)?t:c[t]||(c[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==r&&(e.textContent=r);for(const c in n)if(n.hasOwnProperty(c)){const t=s(c,n[c]);u.test(c)?e.style.setProperty(c,t):e.style[c]=t}b.forEach(((t,a)=>{e.setAttribute(t,f[a])})),void 0!==i&&(e.className=i),void 0!==l&&(e.scrollTop=l),void 0!==o&&(e.scrollLeft=o),void 0!==d&&e.setAttribute("viewBox",d)},createAnimatedStyle:e=>new x(e),getComponentProps:({scrollTop:e,scrollLeft:t,...a})=>a}).animated,S=a(667294),w=a(284762),C=a(785893),L=a(569680),O=a(94918),V=a(44159),M=a(941133),B=a(632693),W=a(300381),T=a(545578),j=a.n(T);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},I.apply(this,arguments)}function P(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}var E,R=function(e){var t=e.bars,a=e.annotations,i=(0,w.O2)({data:t,annotations:a,getPosition:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},getDimensions:function(e){var t=e.height,a=e.width;return{width:a,height:t,size:Math.max(a,t)}}});return(0,C.jsx)(C.Fragment,{children:i.map((function(e,t){return(0,C.jsx)(w.q6,I({},e),t)}))})},F=function(e){var t=e.width,a=e.height,i=e.legends,n=e.toggleSerie;return(0,C.jsx)(C.Fragment,{children:i.map((function(e,i){var r,l=e[0],o=e[1];return(0,C.jsx)(L.$6,I({},l,{containerWidth:t,containerHeight:a,data:null!=(r=l.data)?r:o,toggleSerie:l.toggleSerie&&"keys"===l.dataFrom?n:void 0}),i)}))})},H=["data"],A=function(e){var t,a=e.bar,i=a.data,l=P(a,H),o=e.style,d=o.borderColor,u=o.color,s=o.height,c=o.labelColor,h=o.labelOpacity,f=o.labelX,b=o.labelY,v=o.transform,g=o.width,m=o.textAnchor,p=e.borderRadius,x=e.borderWidth,y=e.label,w=e.shouldRenderLabel,L=e.isInteractive,O=e.onClick,M=e.onMouseEnter,B=e.onMouseLeave,W=e.tooltip,T=e.isFocusable,j=e.ariaLabel,E=e.ariaLabelledBy,R=e.ariaDescribedBy,F=e.ariaDisabled,A=e.ariaHidden,D=(0,n.Fg)(),N=(0,V.lL)(),Y=N.showTooltipFromEvent,X=N.showTooltipAt,z=N.hideTooltip,_=(0,S.useMemo)((function(){return function(){return(0,S.createElement)(W,I({},l,i))}}),[W,l,i]),G=(0,S.useCallback)((function(e){null==O||O(I({color:l.color},i),e)}),[l,i,O]),$=(0,S.useCallback)((function(e){return Y(_(),e)}),[Y,_]),q=(0,S.useCallback)((function(e){null==M||M(i,e),Y(_(),e)}),[i,M,Y,_]),U=(0,S.useCallback)((function(e){null==B||B(i,e),z()}),[i,z,B]),Z=(0,S.useCallback)((function(){X(_(),[l.absX+l.width/2,l.absY])}),[X,_,l]),K=(0,S.useCallback)((function(){z()}),[z]);return(0,C.jsxs)(k.g,{transform:v,children:[(0,C.jsx)(k.rect,{width:(0,r.to)(g,(function(e){return Math.max(e,0)})),height:(0,r.to)(s,(function(e){return Math.max(e,0)})),rx:p,ry:p,fill:null!=(t=i.fill)?t:u,strokeWidth:x,stroke:d,focusable:T,tabIndex:T?0:void 0,"aria-label":j?j(i):void 0,"aria-labelledby":E?E(i):void 0,"aria-describedby":R?R(i):void 0,"aria-disabled":F?F(i):void 0,"aria-hidden":A?A(i):void 0,onMouseEnter:L?q:void 0,onMouseMove:L?$:void 0,onMouseLeave:L?U:void 0,onClick:L?G:void 0,onFocus:L&&T?Z:void 0,onBlur:L&&T?K:void 0}),w&&(0,C.jsx)(k.text,{x:f,y:b,textAnchor:m,dominantBaseline:"central",fillOpacity:h,style:I({},D.labels.text,{pointerEvents:"none",fill:c}),children:y})]})},D=["color","label"],N=function(e){var t=e.color,a=e.label,i=P(e,D);return(0,C.jsx)(V._5,{id:a,value:i.formattedValue,enableChip:!0,color:t})},Y={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:N,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[],enableTotals:!1,totalsOffset:10},X=I({},Y,{layers:["grid","axes","bars","totals","markers","legends","annotations"],barComponent:A,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),z=I({},Y,{layers:["grid","axes","bars","totals","legends","annotations"],pixelRatio:"undefined"!=typeof window&&null!=(E=window.devicePixelRatio)?E:1}),_=function(e,t,a,i,n,r){return(0,M.ZN)(i,{all:e.map(t),min:0,max:0},n,r).padding(a)},G=function(e,t){return e.map((function(e){return I({},t.reduce((function(e,t){return e[t]=null,e}),{}),e)}))},$=function(e){return Object.keys(e).reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),{})},q=function(e){return[e,Number(e)]};function U(e,t,a,i){return void 0===e&&(e=Y.layout),void 0===t&&(t=Y.reverse),void 0===a&&(a=Y.labelPosition),void 0===i&&(i=Y.labelOffset),function(n,r){var l=i*(t?-1:1);if("horizontal"===e){var o=n/2;return"start"===a?o=t?n:0:"end"===a&&(o=t?0:n),{labelX:o+l,labelY:r/2,textAnchor:"middle"===a?"middle":t?"end":"start"}}var d=r/2;return"start"===a?d=t?0:r:"end"===a&&(d=t?r:0),{labelX:n/2,labelY:d-l,textAnchor:"middle"}}}var Z=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],K=function(e,t){return e>t},J=function(e,t){return e<t},Q=function(e,t){return Array.from(" ".repeat(t-e),(function(t,a){return e+a}))},ee=function(e){return K(e,0)?0:e},te=function(e,t,a,i){var n=e.data,r=e.formatValue,l=e.getColor,o=e.getIndex,d=e.getTooltipLabel,u=e.innerPadding,s=void 0===u?0:u,c=e.keys,h=e.xScale,f=e.yScale,b=e.margin,v=a?J:K,g=n.map($),m=[];return c.forEach((function(e,a){return Q(0,h.domain().length).forEach((function(u){var c,p,x,y=q(n[u][e]),k=y[0],S=y[1],w=o(n[u]),C=(null!=(c=h(w))?c:0)+t*a+s*a,L=v(p=S,0)?null!=(x=f(p))?x:0:i,O=function(e,t){var a;return v(e,0)?i-t:(null!=(a=f(e))?a:0)-i}(S,L),V={id:e,value:null===k?k:S,formattedValue:r(S),hidden:!1,index:u,indexValue:w,data:g[u]};m.push({key:e+"."+V.indexValue,index:m.length,data:V,x:C,y:L,absX:b.left+C,absY:b.top+L,width:t,height:O,color:l(V),label:d(V)})}))})),m},ae=function(e,t,a,i){var n=e.data,r=e.formatValue,l=e.getIndex,o=e.getColor,d=e.getTooltipLabel,u=e.keys,s=e.innerPadding,c=void 0===s?0:s,h=e.xScale,f=e.yScale,b=e.margin,v=a?J:K,g=n.map($),m=[];return u.forEach((function(e,a){return Q(0,f.domain().length).forEach((function(u){var s,p,x,y=q(n[u][e]),k=y[0],S=y[1],w=l(n[u]),C=v(p=S,0)?i:null!=(x=h(p))?x:0,L=(null!=(s=f(w))?s:0)+t*a+c*a,O=function(e,t){var a;return v(e,0)?(null!=(a=h(e))?a:0)-i:i-t}(S,C),V={id:e,value:null===k?k:S,formattedValue:r(S),hidden:!1,index:u,indexValue:w,data:g[u]};m.push({key:e+"."+V.indexValue,index:m.length,data:V,x:C,y:L,absX:b.left+C,absY:b.top+L,width:O,height:t,color:o(V),label:d(V)})}))})),m},ie=function(e){var t,a,i=e.layout,n=e.minValue,r=e.maxValue,l=e.reverse,o=e.width,d=e.height,u=e.padding,s=void 0===u?0:u,c=e.innerPadding,h=void 0===c?0:c,f=e.valueScale,b=e.indexScale,v=e.hiddenIds,g=void 0===v?[]:v,m=P(e,Z),p=m.keys.filter((function(e){return!g.includes(e)})),x=G(m.data,p),y="vertical"===i?["y","x",o]:["x","y",d],k=y[0],S=y[1],w=y[2],C=_(x,m.getIndex,s,b,w,S),L=I({max:r,min:n,reverse:l},f),O="auto"===L.min?ee:function(e){return e},V=x.reduce((function(e,t){return[].concat(e,p.map((function(e){return t[e]})))}),[]).filter(Boolean),B=O(Math.min.apply(Math,V)),W=(a=Math.max.apply(Math,V),isFinite(a)?a:0),T=(0,M.ZN)(L,{all:V,min:B,max:W},"x"===k?o:d,k),j="vertical"===i?[C,T]:[T,C],E=j[0],R=j[1],F=(C.bandwidth()-h*(p.length-1))/p.length,H=[I({},m,{data:x,keys:p,innerPadding:h,xScale:E,yScale:R}),F,L.reverse,null!=(t=T(0))?t:0];return{xScale:E,yScale:R,bars:F>0?"vertical"===i?te.apply(void 0,H):ae.apply(void 0,H):[]}},ne=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],re=function e(t){var a;return t.some(Array.isArray)?e((a=[]).concat.apply(a,t)):t},le=function(e,t,a){var i=e.formatValue,n=e.getColor,r=e.getIndex,l=e.getTooltipLabel,o=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return u.domain().forEach((function(d,f){var b,v,g=e[f],m=null!=(b=u(r(g.data)))?b:0,p=(null!=(v=function(e){return s(e[a?0:1])}(g))?v:0)+.5*o,x=function(e,t){var i;return(null!=(i=s(e[a?1:0]))?i:0)-t}(g,p)-o,y=q(g.data[e.key]),k=y[0],S=y[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:f,indexValue:d,data:$(g.data)};h.push({key:e.key+"."+d,index:h.length,data:w,x:m,y:p,absX:c.left+m,absY:c.top+p,width:t,height:x,color:n(w),label:l(w)})}))})),h},oe=function(e,t,a){var i=e.formatValue,n=e.getColor,r=e.getIndex,l=e.getTooltipLabel,o=e.innerPadding,d=e.stackedData,u=e.xScale,s=e.yScale,c=e.margin,h=[];return d.forEach((function(e){return s.domain().forEach((function(d,f){var b,v,g=e[f],m=null!=(b=s(r(g.data)))?b:0,p=(null!=(v=function(e){return u(e[a?1:0])}(g))?v:0)+.5*o,x=function(e,t){var i;return(null!=(i=u(e[a?0:1]))?i:0)-t}(g,p)-o,y=q(g.data[e.key]),k=y[0],S=y[1],w={id:e.key,value:null===k?k:S,formattedValue:i(S),hidden:!1,index:f,indexValue:d,data:$(g.data)};h.push({key:e.key+"."+d,index:h.length,data:w,x:p,y:m,absX:c.left+p,absY:c.top+m,width:x,height:t,color:n(w),label:l(w)})}))})),h},de=function(e){var t,a=e.data,i=e.layout,n=e.minValue,r=e.maxValue,l=e.reverse,o=e.width,d=e.height,u=e.padding,s=void 0===u?0:u,c=e.valueScale,h=e.indexScale,f=e.hiddenIds,b=void 0===f?[]:f,v=P(e,ne),g=v.keys.filter((function(e){return!b.includes(e)})),m=(0,B.Z)().keys(g).offset(W.Z)(G(a,g)),p="vertical"===i?["y","x",o]:["x","y",d],x=p[0],y=p[1],k=p[2],S=_(a,v.getIndex,s,h,k,y),w=I({max:r,min:n,reverse:l},c),C=(t=re(m),"log"===c.type?t.filter((function(e){return 0!==e})):t),L=Math.min.apply(Math,C),O=Math.max.apply(Math,C),V=(0,M.ZN)(w,{all:C,min:L,max:O},"x"===x?o:d,x),T="vertical"===i?[S,V]:[V,S],j=T[0],E=T[1],R=v.innerPadding>0?v.innerPadding:0,F=S.bandwidth(),H=[I({},v,{innerPadding:R,stackedData:m,xScale:j,yScale:E}),F,w.reverse];return{xScale:j,yScale:E,bars:F>0?"vertical"===i?le.apply(void 0,H):oe.apply(void 0,H):[]}},ue=function(e){var t=e.bars,a=e.direction,i=e.from,r=e.groupMode,l=e.layout,o=e.legendLabel,d=e.reverse,u=(0,n.Xc)(null!=o?o:"indexes"===i?"indexValue":"id");return"indexes"===i?function(e,t,a){var i=j()(e.map((function(e){var t,i;return{id:null!=(t=e.data.indexValue)?t:"",label:a(e.data),hidden:e.data.hidden,color:null!=(i=e.color)?i:"#000"}})),(function(e){return e.id}));return"horizontal"===t&&i.reverse(),i}(t,l,u):function(e,t,a,i,n,r){var l=j()(e.map((function(e){var t;return{id:e.data.id,label:r(e.data),hidden:e.data.hidden,color:null!=(t=e.color)?t:"#000"}})),(function(e){return e.id}));return("vertical"===t&&"stacked"===i&&"column"===a&&!0!==n||"horizontal"===t&&"stacked"===i&&!0===n)&&l.reverse(),l}(t,l,a,r,d,u)},se=function(e,t,a){var i=e.get(t)||0;e.set(t,i+a)},ce=function(e){var t=e.indexBy,a=void 0===t?Y.indexBy:t,i=e.keys,r=void 0===i?Y.keys:i,l=e.label,o=void 0===l?Y.label:l,d=e.tooltipLabel,u=void 0===d?Y.tooltipLabel:d,s=e.valueFormat,c=e.colors,h=void 0===c?Y.colors:c,f=e.colorBy,b=void 0===f?Y.colorBy:f,v=e.borderColor,g=void 0===v?Y.borderColor:v,m=e.labelTextColor,p=void 0===m?Y.labelTextColor:m,x=e.groupMode,y=void 0===x?Y.groupMode:x,k=e.layout,w=void 0===k?Y.layout:k,C=e.reverse,L=void 0===C?Y.reverse:C,V=e.data,M=e.minValue,B=void 0===M?Y.minValue:M,W=e.maxValue,T=void 0===W?Y.maxValue:W,j=e.margin,P=e.width,E=e.height,R=e.padding,F=void 0===R?Y.padding:R,H=e.innerPadding,A=void 0===H?Y.innerPadding:H,D=e.valueScale,N=void 0===D?Y.valueScale:D,X=e.indexScale,z=void 0===X?Y.indexScale:X,_=e.initialHiddenIds,G=void 0===_?Y.initialHiddenIds:_,$=e.enableLabel,q=void 0===$?Y.enableLabel:$,U=e.labelSkipWidth,Z=void 0===U?Y.labelSkipWidth:U,K=e.labelSkipHeight,J=void 0===K?Y.labelSkipHeight:K,Q=e.legends,ee=void 0===Q?Y.legends:Q,te=e.legendLabel,ae=e.totalsOffset,ne=void 0===ae?Y.totalsOffset:ae,re=(0,S.useState)(null!=G?G:[]),le=re[0],oe=re[1],ce=(0,S.useCallback)((function(e){oe((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(t,[e])}))}),[]),he=(0,n.LR)(a),fe=(0,n.LR)(o),be=(0,n.LR)(u),ve=(0,n.O_)(s),ge=(0,n.Fg)(),me=(0,O.U)(h,b),pe=(0,O.Bf)(g,ge),xe=(0,O.Bf)(p,ge),ye=("grouped"===y?ie:de)({layout:w,reverse:L,data:V,getIndex:he,keys:r,minValue:B,maxValue:T,width:P,height:E,getColor:me,padding:F,innerPadding:A,valueScale:N,indexScale:z,hiddenIds:le,formatValue:ve,getTooltipLabel:be,margin:j}),ke=ye.bars,Se=ye.xScale,we=ye.yScale,Ce=(0,S.useMemo)((function(){return ke.filter((function(e){return null!==e.data.value})).map((function(e,t){return I({},e,{index:t})}))}),[ke]),Le=(0,S.useCallback)((function(e){var t=e.width,a=e.height;return!!q&&!(Z>0&&t<Z)&&!(J>0&&a<J)}),[q,Z,J]),Oe=(0,S.useMemo)((function(){return r.map((function(e){var t=ke.find((function(t){return t.data.id===e}));return I({},t,{data:I({id:e},null==t?void 0:t.data,{hidden:le.includes(e)})})}))}),[le,r,ke]),Ve=(0,S.useMemo)((function(){return ee.map((function(e){return[e,ue({bars:"keys"===e.dataFrom?Oe:ke,direction:e.direction,from:e.dataFrom,groupMode:y,layout:w,legendLabel:te,reverse:L})]}))}),[ee,Oe,ke,y,w,te,L]),Me=(0,S.useMemo)((function(){return function(e,t,a,i,n,r,l){void 0===i&&(i=Y.layout),void 0===n&&(n=Y.groupMode);var o=[];if(0===e.length)return o;var d=new Map,u=e[0].width,s=e[0].height;if("stacked"===n){var c=new Map;e.forEach((function(e){var t=e.data,a=t.indexValue,i=t.value;se(d,a,Number(i)),function(e,t,a){var i=e.get(t)||0;e.set(t,i+(a>0?a:0))}(c,a,Number(i))})),c.forEach((function(e,n){var c,h,f,b=d.get(n)||0;"vertical"===i?(c=t(n),h=a(e),f=a(e/2)):(c=t(e),h=a(n),f=t(e/2)),c+="vertical"===i?u/2:r,h+="vertical"===i?-r:s/2,o.push({key:"total_"+n,x:c,y:h,value:b,formattedValue:l(b),animationOffset:f})}))}else if("grouped"===n){var h=new Map,f=new Map;e.forEach((function(e){var t=e.data,a=t.indexValue,i=t.value;se(d,a,Number(i)),function(e,t,a){var i=e.get(t)||0;e.set(t,Math.max(i,Number(a)))}(h,a,Number(i)),function(e,t){var a=e.get(t)||0;e.set(t,a+1)}(f,a)})),h.forEach((function(e,n){var c,h,b,v=d.get(n)||0,g=f.get(n);"vertical"===i?(c=t(n),h=a(e),b=a(e/2)):(c=t(e),h=a(n),b=t(e/2)),c+="vertical"===i?g*u/2:r,h+="vertical"===i?-r:g*s/2,o.push({key:"total_"+n,x:c,y:h,value:v,formattedValue:l(v),animationOffset:b})}))}return o}(ke,Se,we,w,y,ne,ve)}),[ke,Se,we,w,y,ne,ve]);return{bars:ke,barsWithValue:Ce,xScale:Se,yScale:we,getIndex:he,getLabel:fe,getTooltipLabel:be,formatValue:ve,getColor:me,getBorderColor:pe,getLabelColor:xe,shouldRenderBarLabel:Le,hiddenIds:le,toggleSerie:ce,legendsWithData:Ve,barTotals:Me}},he=function(e){var t=e.data,a=e.springConfig,i=e.animate,l=e.layout,o=void 0===l?X.layout:l,d=(0,n.Fg)();return(0,r.Yz)(t,{keys:function(e){return e.key},from:function(e){return{x:"vertical"===o?e.x:e.animationOffset,y:"vertical"===o?e.animationOffset:e.y,labelOpacity:0}},enter:function(e){return{x:e.x,y:e.y,labelOpacity:1}},update:function(e){return{x:e.x,y:e.y,labelOpacity:1}},leave:function(e){return{x:"vertical"===o?e.x:e.animationOffset,y:"vertical"===o?e.animationOffset:e.y,labelOpacity:0}},config:a,immediate:!i,initial:i?void 0:null})((function(e,t){return(0,C.jsx)(k.text,{x:e.x,y:e.y,fillOpacity:e.labelOpacity,style:I({},d.labels.text,{pointerEvents:"none",fill:d.text.fill}),fontWeight:"bold",fontSize:d.labels.text.fontSize,fontFamily:d.labels.text.fontFamily,textAnchor:"vertical"===o?"middle":"start",alignmentBaseline:"vertical"===o?"alphabetic":"middle",children:t.formattedValue},t.key)}))},fe=["isInteractive","animate","motionConfig","theme","renderWrapper"],be=function(e){var t=e.data,a=e.indexBy,l=e.keys,o=e.margin,d=e.width,u=e.height,s=e.groupMode,c=e.layout,h=e.reverse,f=e.minValue,b=e.maxValue,v=e.valueScale,g=e.indexScale,m=e.padding,p=e.innerPadding,x=e.axisTop,y=e.axisRight,k=e.axisBottom,w=void 0===k?X.axisBottom:k,L=e.axisLeft,O=void 0===L?X.axisLeft:L,V=e.enableGridX,M=void 0===V?X.enableGridX:V,B=e.enableGridY,W=void 0===B?X.enableGridY:B,T=e.gridXValues,j=e.gridYValues,P=e.layers,E=void 0===P?X.layers:P,H=e.barComponent,A=void 0===H?X.barComponent:H,D=e.enableLabel,N=void 0===D?X.enableLabel:D,Y=e.label,z=e.labelSkipWidth,_=void 0===z?X.labelSkipWidth:z,G=e.labelSkipHeight,$=void 0===G?X.labelSkipHeight:G,q=e.labelTextColor,Z=e.labelPosition,K=void 0===Z?X.labelPosition:Z,J=e.labelOffset,Q=void 0===J?X.labelOffset:J,ee=e.markers,te=void 0===ee?X.markers:ee,ae=e.colorBy,ie=e.colors,ne=e.defs,re=void 0===ne?X.defs:ne,le=e.fill,oe=void 0===le?X.fill:le,de=e.borderRadius,ue=void 0===de?X.borderRadius:de,se=e.borderWidth,fe=void 0===se?X.borderWidth:se,be=e.borderColor,ve=e.annotations,ge=void 0===ve?X.annotations:ve,me=e.legendLabel,pe=e.tooltipLabel,xe=e.valueFormat,ye=e.isInteractive,ke=void 0===ye?X.isInteractive:ye,Se=e.tooltip,we=void 0===Se?X.tooltip:Se,Ce=e.onClick,Le=e.onMouseEnter,Oe=e.onMouseLeave,Ve=e.legends,Me=e.role,Be=void 0===Me?X.role:Me,We=e.ariaLabel,Te=e.ariaLabelledBy,je=e.ariaDescribedBy,Ie=e.isFocusable,Pe=void 0===Ie?X.isFocusable:Ie,Ee=e.barAriaLabel,Re=e.barAriaLabelledBy,Fe=e.barAriaDescribedBy,He=e.barAriaHidden,Ae=e.barAriaDisabled,De=e.initialHiddenIds,Ne=e.enableTotals,Ye=void 0===Ne?X.enableTotals:Ne,Xe=e.totalsOffset,ze=void 0===Xe?X.totalsOffset:Xe,_e=(0,n.tf)(),Ge=_e.animate,$e=_e.config,qe=(0,n.Bs)(d,u,o),Ue=qe.outerWidth,Ze=qe.outerHeight,Ke=qe.margin,Je=qe.innerWidth,Qe=qe.innerHeight,et=ce({indexBy:a,label:Y,tooltipLabel:pe,valueFormat:xe,colors:ie,colorBy:ae,borderColor:be,labelTextColor:q,groupMode:s,layout:c,reverse:h,data:t,keys:l,minValue:f,maxValue:b,margin:Ke,width:Je,height:Qe,padding:m,innerPadding:p,valueScale:v,indexScale:g,enableLabel:N,labelSkipWidth:_,labelSkipHeight:$,legends:Ve,legendLabel:me,initialHiddenIds:De,totalsOffset:ze}),tt=et.bars,at=et.barsWithValue,it=et.xScale,nt=et.yScale,rt=et.getLabel,lt=et.getTooltipLabel,ot=et.getBorderColor,dt=et.getLabelColor,ut=et.shouldRenderBarLabel,st=et.toggleSerie,ct=et.legendsWithData,ht=et.barTotals,ft=et.getColor,bt=U(c,h,K,Q),vt=(0,r.Yz)(at,{keys:function(e){return e.key},from:function(e){return I({borderColor:ot(e),color:e.color,height:0,labelColor:dt(e),labelOpacity:0},bt(e.width,e.height),{transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===c?{}:{height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0})},enter:function(e){return I({borderColor:ot(e),color:e.color,height:e.height,labelColor:dt(e),labelOpacity:1},bt(e.width,e.height),{transform:"translate("+e.x+", "+e.y+")",width:e.width})},update:function(e){return I({borderColor:ot(e),color:e.color,height:e.height,labelColor:dt(e),labelOpacity:1},bt(e.width,e.height),{transform:"translate("+e.x+", "+e.y+")",width:e.width})},leave:function(e){return I({borderColor:ot(e),color:e.color,height:0,labelColor:dt(e),labelOpacity:0},bt(e.width,e.height),{labelY:0,transform:"translate("+e.x+", "+(e.y+e.height)+")",width:e.width},"vertical"===c?{}:I({},bt(e.width,e.height),{labelX:0,height:e.height,transform:"translate("+e.x+", "+e.y+")",width:0}))},config:$e,immediate:!Ge,initial:Ge?void 0:null}),gt=(0,S.useMemo)((function(){return{borderRadius:ue,borderWidth:fe,enableLabel:N,isInteractive:ke,labelSkipWidth:_,labelSkipHeight:$,onClick:Ce,onMouseEnter:Le,onMouseLeave:Oe,getTooltipLabel:lt,tooltip:we,isFocusable:Pe,ariaLabel:Ee,ariaLabelledBy:Re,ariaDescribedBy:Fe,ariaHidden:He,ariaDisabled:Ae}}),[ue,fe,N,lt,ke,$,_,Ce,Le,Oe,we,Pe,Ee,Re,Fe,He,Ae]),mt=(0,n.yU)(re,tt,oe,{dataKey:"data",targetKey:"data.fill"}),pt={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};E.includes("annotations")&&(pt.annotations=(0,C.jsx)(R,{bars:tt,annotations:ge},"annotations")),E.includes("axes")&&(pt.axes=(0,C.jsx)(i.dk,{xScale:it,yScale:nt,width:Je,height:Qe,top:x,right:y,bottom:w,left:O},"axes")),E.includes("bars")&&(pt.bars=(0,C.jsx)(S.Fragment,{children:vt((function(e,t){return(0,S.createElement)(A,I({},gt,{bar:t,style:e,shouldRenderLabel:ut(t),label:rt(t.data)}))}))},"bars")),E.includes("grid")&&(pt.grid=(0,C.jsx)(i.rj,{width:Je,height:Qe,xScale:M?it:null,yScale:W?nt:null,xValues:T,yValues:j},"grid")),E.includes("legends")&&(pt.legends=(0,C.jsx)(F,{width:Je,height:Qe,legends:ct,toggleSerie:st},"legends")),E.includes("markers")&&(pt.markers=(0,C.jsx)(n.TL,{markers:te,width:Je,height:Qe,xScale:it,yScale:nt},"markers")),E.includes("totals")&&Ye&&(pt.totals=(0,C.jsx)(he,{data:ht,springConfig:$e,animate:Ge,layout:c},"totals"));var xt=(0,S.useMemo)((function(){return I({},gt,{margin:Ke,width:d,height:u,innerWidth:Je,innerHeight:Qe,bars:tt,legendData:ct,enableLabel:N,xScale:it,yScale:nt,tooltip:we,getTooltipLabel:lt,onClick:Ce,onMouseEnter:Le,onMouseLeave:Oe,getColor:ft})}),[gt,Ke,d,u,Je,Qe,tt,ct,N,it,nt,we,lt,Ce,Le,Oe,ft]);return(0,C.jsx)(n.tM,{width:Ue,height:Ze,margin:Ke,defs:mt,role:Be,ariaLabel:We,ariaLabelledBy:Te,ariaDescribedBy:je,isFocusable:Pe,children:E.map((function(e,t){var a;return"function"==typeof e?(0,C.jsx)(S.Fragment,{children:(0,S.createElement)(e,xt)},t):null!=(a=null==pt?void 0:pt[e])?a:null}))})},ve=function(e){var t=e.isInteractive,a=void 0===t?X.isInteractive:t,i=e.animate,r=void 0===i?X.animate:i,l=e.motionConfig,o=void 0===l?X.motionConfig:l,d=e.theme,u=e.renderWrapper,s=P(e,fe);return(0,C.jsx)(n.W2,{animate:r,isInteractive:a,motionConfig:o,renderWrapper:u,theme:d,children:(0,C.jsx)(be,I({isInteractive:a},s))})},ge=["isInteractive","renderWrapper","theme"],me=function(e,t,a,i){return e.find((function(e){return(0,n.zn)(e.x+t.left,e.y+t.top,e.width,e.height,a,i)}))},pe=function(e){var t=e.data,a=e.indexBy,r=e.keys,l=e.margin,o=e.width,d=e.height,u=e.groupMode,s=e.layout,c=e.reverse,h=e.minValue,f=e.maxValue,b=e.valueScale,v=e.indexScale,g=e.padding,m=e.innerPadding,p=e.axisTop,x=e.axisRight,y=e.axisBottom,k=void 0===y?z.axisBottom:y,O=e.axisLeft,M=void 0===O?z.axisLeft:O,B=e.enableGridX,W=void 0===B?z.enableGridX:B,T=e.enableGridY,j=void 0===T?z.enableGridY:T,P=e.gridXValues,E=e.gridYValues,R=e.labelPosition,F=void 0===R?z.labelPosition:R,H=e.labelOffset,A=void 0===H?z.labelOffset:H,D=e.layers,N=void 0===D?z.layers:D,Y=e.renderBar,X=void 0===Y?function(e,t){var a=t.bar,i=a.color,n=a.height,r=a.width,l=a.x,o=a.y,d=t.borderColor,u=t.borderRadius,s=t.borderWidth,c=t.label,h=t.labelColor,f=t.shouldRenderLabel,b=t.labelX,v=t.labelY,g=t.textAnchor;if(e.fillStyle=i,s>0&&(e.strokeStyle=d,e.lineWidth=s),e.beginPath(),u>0){var m=Math.min(u,n);e.moveTo(l+m,o),e.lineTo(l+r-m,o),e.quadraticCurveTo(l+r,o,l+r,o+m),e.lineTo(l+r,o+n-m),e.quadraticCurveTo(l+r,o+n,l+r-m,o+n),e.lineTo(l+m,o+n),e.quadraticCurveTo(l,o+n,l,o+n-m),e.lineTo(l,o+m),e.quadraticCurveTo(l,o,l+m,o),e.closePath()}else e.rect(l,o,r,n);e.fill(),s>0&&e.stroke(),f&&(e.textBaseline="middle",e.textAlign="middle"===g?"center":g,e.fillStyle=h,e.fillText(c,l+b,o+v))}:Y,_=e.enableLabel,G=void 0===_?z.enableLabel:_,$=e.label,q=e.labelSkipWidth,Z=void 0===q?z.labelSkipWidth:q,K=e.labelSkipHeight,J=void 0===K?z.labelSkipHeight:K,Q=e.labelTextColor,ee=e.colorBy,te=e.colors,ae=e.borderRadius,ie=void 0===ae?z.borderRadius:ae,ne=e.borderWidth,re=void 0===ne?z.borderWidth:ne,le=e.borderColor,oe=e.annotations,de=void 0===oe?z.annotations:oe,ue=e.legendLabel,se=e.tooltipLabel,he=e.valueFormat,fe=e.isInteractive,be=void 0===fe?z.isInteractive:fe,ve=e.tooltip,ge=void 0===ve?z.tooltip:ve,pe=e.onClick,xe=e.onMouseEnter,ye=e.onMouseLeave,ke=e.legends,Se=e.pixelRatio,we=void 0===Se?z.pixelRatio:Se,Ce=e.canvasRef,Le=e.enableTotals,Oe=void 0===Le?z.enableTotals:Le,Ve=e.totalsOffset,Me=void 0===Ve?z.totalsOffset:Ve,Be=(0,S.useRef)(null),We=(0,n.Fg)(),Te=(0,n.Bs)(o,d,l),je=Te.margin,Ie=Te.innerWidth,Pe=Te.innerHeight,Ee=Te.outerWidth,Re=Te.outerHeight,Fe=ce({indexBy:a,label:$,tooltipLabel:se,valueFormat:he,colors:te,colorBy:ee,borderColor:le,labelTextColor:Q,groupMode:u,layout:s,reverse:c,data:t,keys:r,minValue:h,maxValue:f,margin:je,width:Ie,height:Pe,padding:g,innerPadding:m,valueScale:b,indexScale:v,enableLabel:G,labelSkipWidth:Z,labelSkipHeight:J,legends:ke,legendLabel:ue,totalsOffset:Me}),He=Fe.bars,Ae=Fe.barsWithValue,De=Fe.xScale,Ne=Fe.yScale,Ye=Fe.getLabel,Xe=Fe.getTooltipLabel,ze=Fe.getBorderColor,_e=Fe.getLabelColor,Ge=Fe.shouldRenderBarLabel,$e=Fe.legendsWithData,qe=Fe.barTotals,Ue=Fe.getColor,Ze=(0,V.lL)(),Ke=Ze.showTooltipFromEvent,Je=Ze.hideTooltip,Qe=(0,w.zs)({annotations:(0,w.O2)({data:He,annotations:de,getPosition:function(e){return{x:e.x,y:e.y}},getDimensions:function(e){var t=e.width,a=e.height;return{width:t,height:a,size:Math.max(t,a)}}})}),et=(0,S.useMemo)((function(){return{borderRadius:ie,borderWidth:re,isInteractive:be,isFocusable:!1,labelSkipWidth:Z,labelSkipHeight:J,margin:je,width:o,height:d,innerWidth:Ie,innerHeight:Pe,bars:He,legendData:$e,enableLabel:G,xScale:De,yScale:Ne,tooltip:ge,getTooltipLabel:Xe,onClick:pe,onMouseEnter:xe,onMouseLeave:ye,getColor:Ue}}),[ie,re,be,Z,J,je,o,d,Ie,Pe,He,$e,G,De,Ne,ge,Xe,pe,xe,ye,Ue]),tt=(0,n.O_)(he),at=U(s,c,F,A);(0,S.useEffect)((function(){var e,t=null==(e=Be.current)?void 0:e.getContext("2d");Be.current&&t&&(Be.current.width=Ee*we,Be.current.height=Re*we,t.scale(we,we),t.fillStyle=We.background,t.fillRect(0,0,Ee,Re),t.translate(je.left,je.top),N.forEach((function(e){"grid"===e?"number"==typeof We.grid.line.strokeWidth&&We.grid.line.strokeWidth>0&&(t.lineWidth=We.grid.line.strokeWidth,t.strokeStyle=We.grid.line.stroke,W&&(0,i.FA)(t,{width:Ie,height:Pe,scale:De,axis:"x",values:P}),j&&(0,i.FA)(t,{width:Ie,height:Pe,scale:Ne,axis:"y",values:E})):"axes"===e?(0,i.DZ)(t,{xScale:De,yScale:Ne,width:Ie,height:Pe,top:p,right:x,bottom:k,left:M,theme:We}):"bars"===e?Ae.forEach((function(e){X(t,I({bar:e,borderColor:ze(e),borderRadius:ie,borderWidth:re,label:Ye(e.data),labelColor:_e(e),shouldRenderLabel:Ge(e)},at(e.width,e.height)))})):"legends"===e?$e.forEach((function(e){var a=e[0],i=e[1];(0,L.as)(t,I({},a,{data:i,containerWidth:Ie,containerHeight:Pe,theme:We}))})):"annotations"===e?(0,w.dS)(t,{annotations:Qe,theme:We}):"totals"===e&&Oe?function(e,t,a,i){void 0===i&&(i=z.layout),e.fillStyle=a.text.fill,e.font="bold "+a.labels.text.fontSize+"px "+a.labels.text.fontFamily,e.textBaseline="vertical"===i?"alphabetic":"middle",e.textAlign="vertical"===i?"center":"start",t.forEach((function(t){e.fillText(t.formattedValue,t.x,t.y)}))}(t,qe,We,s):"function"==typeof e&&e(t,et)})),t.save())}),[k,M,x,p,Ae,ie,re,Qe,W,j,ze,Ye,_e,P,E,u,d,Pe,Ie,et,N,s,$e,je.left,je.top,Re,Ee,we,X,De,Ne,c,Ge,We,o,qe,Oe,tt,at]);var it=(0,S.useCallback)((function(e){if(He&&Be.current){var t=(0,n.P6)(Be.current,e),a=t[0],i=t[1],r=me(He,je,a,i);void 0!==r?(Ke((0,S.createElement)(ge,I({},r.data,{color:r.color,label:r.label,value:Number(r.data.value)})),e),"mouseenter"===e.type&&(null==xe||xe(r.data,e))):Je()}}),[Je,je,xe,He,Ke,ge]),nt=(0,S.useCallback)((function(e){if(He&&Be.current){Je();var t=(0,n.P6)(Be.current,e),a=t[0],i=t[1],r=me(He,je,a,i);r&&(null==ye||ye(r.data,e))}}),[Je,je,ye,He]),rt=(0,S.useCallback)((function(e){if(He&&Be.current){var t=(0,n.P6)(Be.current,e),a=t[0],i=t[1],r=me(He,je,a,i);void 0!==r&&(null==pe||pe(I({},r.data,{color:r.color}),e))}}),[je,pe,He]);return(0,C.jsx)("canvas",{ref:function(e){Be.current=e,Ce&&"current"in Ce&&(Ce.current=e)},width:Ee*we,height:Re*we,style:{width:Ee,height:Re,cursor:be?"auto":"normal"},onMouseEnter:be?it:void 0,onMouseMove:be?it:void 0,onMouseLeave:be?nt:void 0,onClick:be?rt:void 0})},xe=(0,S.forwardRef)((function(e,t){var a=e.isInteractive,i=e.renderWrapper,r=e.theme,l=P(e,ge);return(0,C.jsx)(n.W2,{isInteractive:a,renderWrapper:i,theme:r,animate:!1,children:(0,C.jsx)(pe,I({},l,{canvasRef:t}))})})),ye=function(e){return(0,C.jsx)(n.d,{children:function(t){var a=t.width,i=t.height;return(0,C.jsx)(ve,I({width:a,height:i},e))}})},ke=(0,S.forwardRef)((function(e,t){return(0,C.jsx)(n.d,{children:function(a){var i=a.width,n=a.height;return(0,C.jsx)(xe,I({width:i,height:n},e,{ref:t}))}})}))}}]);